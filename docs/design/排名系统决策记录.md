# 排名系统决策记录

> **记录日期**: 2025-01-07
> **记录人**: 老黑(Claude)
> **参与人**: 蜡烛先生（产品经理）
> **用途**: 记录排名系统相关的重要决策

---

## 决策1: 排名门槛调整（2025-01-07）

### 决策内容

**第一届排名门槛**: 从20人次调整为**15人次**

**分榜单门槛规则**: 采用**总门槛策略**

### 决策详情

#### 门槛值调整

**原设计**: 总评分人次 > 20

**第一届调整**: 总评分人次 > 15

**理由**:
1. ✅ 第一届参赛规模可能较小，降低门槛避免冷启动问题
2. ✅ 鼓励更多游戏参与排名
3. ✅ 后续可根据第一届数据调整（第二届可能恢复20人或动态调整）

---

#### 分榜单门槛规则

**问题**: 12个榜单是共用一个总门槛，还是每个榜单独立门槛？

**决策**: 采用**总门槛策略**

**规则**:
- 只要总人次 > 15，该游戏的12个榜单都参与排名
- 不要求单个榜单独立达到门槛
- 通过标注提示用户可信度

**示例**:
```
游戏X: 参赛者15个 + 评审团3个 = 总人次21 ✅ 达标

参赛者榜: 参与排名（标注: 15个评分）
评审团榜: 参与排名（标注: 3个评分 ⚠️ 样本量较小）
```

**标注规则**:
- 评分数量 ≥ 20个: 正常显示
- 评分数量 10-19个: 标注⚠️ "样本量较小"
- 评分数量 < 10个: 标注⚠️⚠️ "样本量很小，仅供参考"

**优点**:
- ✅ 简单直接，符合第一届"稳定优于完美"原则
- ✅ 保持12榜单完整性
- ✅ 通过透明标注让用户自主判断可信度
- ✅ 避免硬性门槛导致榜单不完整

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统设计文档_v1.0.md**
   - §2. 排名资格
   - 更新: 门槛值从20改为15
   - 新增: 分榜单门槛规则

2. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 排名资格章节
   - 更新: 门槛值从20改为15
   - 新增: 分榜单门槛规则和标注规则

3. **questions.md**
   - Q1: 20人次阈值是否需要动态调整？
   - 状态: 部分确认（第一届改为15，第二届待定）

---

### 后续行动

#### 待更新文档

- [ ] 更新惊蛰计划规则书（面向参赛者）
- [ ] 更新前端UI提示文案
- [ ] 更新API接口文档
- [ ] 更新数据库表设计注释

#### 待讨论问题

- [ ] 第二届门槛是否恢复20人？
- [ ] 是否需要动态门槛（如总人数的10%）？
- [ ] 标注规则的具体UI实现

---

### 决策依据

**参考数据**:
- 无第一届实际数据，基于保守估计

**风险评估**:
- ⚠️ 15人次可能导致部分游戏样本量偏小
- ✅ 通过标注规则降低争议风险
- ✅ 第一届可接受，第二届根据数据优化

**备选方案**:
- 如果第一届参赛人数超过预期，第二届可恢复20人
- 如果发现15人次仍导致冷启动问题，可进一步降低至10人

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

## 决策2: 评审团权威性体现方式（2025-01-07）

### 决策内容

**评审团权威性**: 仅在门槛处体现权重×2，权威性靠评审团自身的评价逐年建设

### 决策详情

#### 问题背景

**疑问**: 评审团的权重×2只在门槛体现，算法内部评审团权重=1.0，如何体现权威性？

**场景示例**:
- 游戏A: 20个参赛者评分8.0分
- 游戏B: 10个评审团评分8.0分
- 门槛相同（都是20人次），得分相同，但权威性不同

---

#### 决策方案

**核心原则**: 评审团权威性通过**独立榜单**和**时间积累**体现

**具体规则**:

1. **评审团权重×2仅体现在门槛**
   - 公式: 总人次 = 参赛者人次 + 2×评审团人次
   - 不在算法内部体现

2. **评审团权威性靠自身评价质量建设**
   - 评审团通过专业、公正的评价建立权威
   - 不通过算法加权人为提升权威性

3. **12个独立榜单体现双重视角**
   - 参赛者榜: 大众口碑导向
   - 评审团榜: 专业评价导向
   - 两个榜单独立运行，互不干扰

4. **官方宣传强调评审团推荐榜**
   - 评审团榜单作为"专家推荐"主榜单
   - 参赛者榜单作为"大众口碑"参考榜单

---

#### 理由说明

**为什么不在算法中体现评审团权重？**

1. ✅ **保持榜单独立性**
   - 如果在算法中体现权重，相当于"隐性计算总分"
   - 违背12榜单独立设计原则

2. ✅ **避免权重争议**
   - 评审团权重×2还是×3？还是×5？
   - 争议太多，难以解释

3. ✅ **真实权威来自评价质量**
   - 如果评审团评价专业、公正，自然会建立权威
   - 不需要算法人为"拔高"

4. ✅ **长期建设优于短期加权**
   - 第一届: 评审团还在建立权威阶段
   - 第二届: 评审团权威性通过多届积累自然提升

---

#### 展示策略

**榜单展示**:

```
排名页面
├── 评分群体切换
│   ├── 参赛者榜（大众口碑）
│   └── 评审团榜（专家推荐）⭐ 主榜单
└── 维度选择（6个维度）
```

**标识说明**:
- 评审团榜标注"专家推荐"或"评审团推荐"
- 参赛者榜标注"大众口碑"或"参赛者互评"
- 官方规则说明中强调评审团榜的权威性

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 评审团处理章节
   - 明确: 评审团权重×2仅在门槛体现

2. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 12榜单独立性说明
   - 强调: 评审团权威性靠时间积累

3. **前端UI设计**
   - 榜单页面标注"专家推荐"和"大众口碑"
   - 规则说明页面解释双榜体系

---

### 后续行动

#### 待更新文档

- [ ] 更新混合方案算法文档的评审团章节
- [ ] 更新前端UI标注文案
- [ ] 更新规则说明（面向参赛者）
- [ ] 更新API接口文档

#### 宣传策略

- [ ] 官方推文: "为什么我们有两个榜单？"
- [ ] 规则说明: "专家推荐榜 vs 大众口碑榜"
- [ ] 评审团介绍: "评审团成员介绍"

---

### 决策依据

**设计理念**:
- ✅ 真实权威来自评价质量，不是算法赋予
- ✅ 长期建设优于短期加权
- ✅ 保持12榜单独立性

**风险评估**:
- ⚠️ 第一届评审团权威性可能较弱
- ✅ 通过独立榜单和官方宣传弥补
- ✅ 第二届开始权威性自然提升

**替代方案（已否决）**:
- ❌ 方案A: 算法内部体现评审团权重 → 违背独立榜单原则
- ❌ 方案B: 计算综合总分 → 违背不计算总分原则
- ❌ 方案C: 评审团权重×3 → 权重数值争议

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划及后续届次

**有效期**: 长期有效（评审团权威性逐年积累）

**责任人**: 蜡烛先生（产品经理）

---

## 决策3: 评审团用户权重机制（2025-01-07）

### 决策内容

**第一届**: 评审团暂不引入用户权重，所有评审权重=1.0

**后续**: 第二届根据数据评估是否引入

### 决策详情

#### 问题背景

**当前设计**:
- 参赛者: 有用户权重 W = 1 + ln(1+n)，n为本届评分次数
- 评审团: 所有成员权重=1.0

**疑问**:
- 评审团A评了50次，权重=1.0
- 评审团B评了5次，权重=1.0
- 两者权重相同，是否公平？

---

#### 决策方案

**第一届: 暂不引入评审团用户权重**

**理由**:
1. ✅ **评审团人数少，权重区分度意义不大**
   - 预计评审团5-10人，人数基数小
   - 权重差异对整体影响有限

2. ✅ **第一届优先简单**
   - 评审团都是专家，默认都会认真评分
   - 无需额外权重激励

3. ✅ **影响可控**
   - 评审团评分数量相对平均（不会出现1个评50次，1个评5次的极端情况）
   - 对排名公平性影响很小

4. ✅ **保持评审团榜的纯粹性**
   - 专家评价就是专家评价，不需要权重调整
   - 符合"专业评价导向"的定位

---

#### 后续评估

**第二届: 根据第一届数据决定是否引入**

**评估指标**:
- 评审团评分次数的方差（如果方差大，说明评分不均衡）
- 评审团内部反馈（是否有人觉得不公平）
- 参赛者反馈（是否对评审团权威性有质疑）

**如果第二届引入**:
- 可能采用与参赛者相同的权重公式: W = 1 + ln(1+n)
- 或者采用更温和的权重: W = 1 + 0.5×ln(1+n)（权重增长更慢）

---

#### 暂缓原因

**为什么第一届不引入？**

1. **评审团人数少**
   - 预计5-10人，样本量小
   - 权重机制效果不明显

2. **第一届优先稳定**
   - 避免过度复杂化
   - 专注核心功能上线

3. **数据支撑不足**
   - 没有历史数据参考
   - 无法确定最优权重公式

4. **风险可控**
   - 评审团都是专家，评分质量相对均衡
   - 不引入权重不会严重影响公平性

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 评审团处理章节
   - 明确: 第一届评审团权重=1.0，暂不引入用户权重

2. **混合方案隐患分析报告**
   - 遗漏3章节
   - 标记: 已讨论，第一届暂缓

---

### 后续行动

#### 第一届

- [ ] 监控评审团评分次数分布
- [ ] 收集团评审团内部反馈
- [ ] 记录评审团评分均衡性数据

#### 第二届评估

- [ ] 分析第一届评审团评分数据
- [ ] 评估是否需要引入权重
- [ ] 如果需要，确定权重公式

---

### 决策依据

**设计理念**:
- ✅ 第一届"稳定优于完美"
- ✅ 评审团都是专家，默认认真评分
- ✅ 数据驱动决策（第二届根据第一届数据决定）

**风险评估**:
- ⚠️ 如果评审团评分严重不均衡，可能影响公平性
- ✅ 评审团人数少，风险可控
- ✅ 第一届影响有限（第二届可调整）

**备选方案**:
- 如果第一届发现评审团评分极不均衡
- 第二届可引入简化权重: W = 1（基准）+ 0.1×ln(1+n)（温和增长）

---

### 决策状态

**状态**: ✅ 已确认（第一届暂缓）

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

**备注**: 影响不大，可之后再议

---

## 决策记录模板

### 后续决策格式

```markdown
## 决策N: [决策标题]（YYYY-MM-DD）

### 决策内容
[简要描述决策内容]

### 决策详情
[详细说明决策的各个方面]

### 影响范围
[列出受影响的文档、模块、系统]

### 后续行动
[列出需要做的事情]

### 决策依据
[说明决策的理由、数据、风险评估]

### 决策状态
- 状态: ✅已确认 / 🔄讨论中 / ❌待定 / ⏳暂缓
- 生效时间: [具体时间或届次]
- 责任人: [姓名]
```

---

## 索引

| 决策编号 | 决策标题 | 日期 | 状态 |
|---------|---------|------|------|
| 1 | 排名门槛调整 | 2025-01-07 | ✅ 已确认 |
| 2 | 评审团权威性体现方式 | 2025-01-07 | ✅ 已确认 |
| 3 | 评审团用户权重机制 | 2025-01-07 | ⏳ 第一届暂缓 |
| 4 | 用户权重更新策略 | 2025-01-07 | ✅ 已确认 |
| 5 | 截尾与权重交互规则 | 2025-01-07 | ✅ 已确认 |
| 6 | 用户权重公式与上限 | 2025-01-07 | ✅ 已确认 |
| 7 | 用户权重初始化 | 2025-01-07 | ✅ 已确认 |
| 8 | 用户权重显示规则 | 2025-01-07 | ✅ 已确认 |
| 9 | 团队作品排名规则 | 2025-01-07 | ✅ 已确认 |
| 10 | 排名显示与作弊处理 | 2025-01-07 | ✅ 已确认 |
| 11 | 多游戏作品处理规则 | 2025-01-07 | ✅ 已确认 |
| 12 | 评分人次计算规则确认 | 2025-01-07 | ✅ 已确认 |
| 13 | 评分打赏机制 | 2025-01-08 | ✅ 已确认 |
| 14 | 评分金币奖励机制 | 2025-01-08 | ✅ 已确认 |

---

## 决策6: 用户权重公式与上限（2025-01-07）

### 决策内容

**第一届**: 采用**对数公式 W = 1 + 0.55×ln(1+n)**

**最终公式**: W = 1 + 0.55×ln(1+n)，自然收敛，无需上限

### 决策详情

#### 权重公式调整

**三个确认**:

1. ✅ **权重增长率**: 评4次后权重<2.0，评5次后权重≈2.0
2. ✅ **评分次数定义**: 只计算对游戏第一次评分提交（无论评了几个维度）✅ 2025-01-08修正
3. ✅ **权重特性**: 自然对数增长，无需设置上限

**公式**: W = 1 + 0.55×ln(1+n)

---

#### 权重增长表

| 评分数 | 权重 | 说明 |
|--------|------|------|
| 1次 | 1.38 | 基准（新用户）|
| 2次 | 1.61 | 持续增长 |
| 3次 | 1.76 | 持续增长 |
| **4次** | **1.89** | **< 2.0** ✅ |
| **5次** | **1.98** | **≈ 2.0** ✅ |
| 10次 | 2.27 | 稳步增长 |
| 20次 | 2.50 | 继续增长 |
| 50次 | 2.77 | 自然收敛 |
| 100次 | 2.96 | 趋于稳定 |

---

#### 设计特点

**1. 评分次数定义** ✅（2025-01-07确认，2025-01-08修正）

**规则**: 只计算"对某个游戏第一次评分提交"（无论评了几个维度）

**示例**:
- 用户A评了100个游戏（部分游戏评了6个维度，部分只评了1-2个维度）
- 用户A的评分次数 = 100（不是总维度数）
- 权重 = 1 + 0.55×ln(101) = 2.77

**有效评分**（对某个游戏的第一次提交）:
- ✅ 评了6个维度 → 有效评分（次数+1）
- ✅ 评了1个维度 → 有效评分（次数+1）
- ✅ 对某些维度给了0分 → 有效评分（次数+1）
- ❌ 修改评分 → 不算新次数
- ❌ 重复评同一个游戏 → 不算新次数

---

**2. 权重增长率** ✅（2025-01-07确认）

**关键节点**:
- 评4次: 权重1.89（< 2.0）✅
- 评5次: 权重1.98（≈ 2.0）✅
- 评10次: 权重2.27（稳步增长）
- 评100次: 权重2.96（趋于稳定）

**增长特点**:
- 前5次: 快速增长（1.38 → 1.98，+0.60）
- 5-20次: 中速增长（1.98 → 2.50，+0.52）
- 20-100次: 慢速增长（2.50 → 2.96，+0.46）
- 100次以后: 继续缓慢增长，无需设置上限

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 步骤1: 用户权重计算章节
   - 更新: 公式改为 W = 1 + 0.55×ln(1+n)
   - 更新: 明确评分次数定义
   - 更新: 无需设置上限

2. **Python代码**
   ```python
   def calculate_user_weight(score_count: int) -> float:
       weight = 1.0 + 0.55 * math.log(1.0 + score_count)
       return weight  # 自然收敛，无需上限
   ```

---

### 后续行动

#### 待更新文档

- [ ] 更新混合方案算法文档的权重计算章节
- [ ] 更新Python代码（添加上限）
- [ ] 更新规则说明（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 前5次快速增长到1.98≈2.0，激励新手
- ✅ 自然对数增长，无需人工设置上限
- ✅ 2-3倍激励足够，防止权重过度膨胀

**风险评估**:
- ✅ 自然收敛特性防止权重过度增长
- ✅ 第一届100个游戏，评完100次权重约3.8，合理
- ✅ 第二届可根据数据调整系数（如改为0.6或0.5）

**备选方案**:
- 如果第一届发现权重增长过快
- 第二届可降低系数（如改为0.5×ln(1+n)）
- 如果第一届发现权重增长过慢
- 第二届可提高系数（如改为0.6×ln(1+n)）

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估上限值）

**责任人**: 蜡烛先生（产品经理）

---

## 决策5: 截尾与权重交互规则（2025-01-07）

## 决策5: 截尾与权重交互规则（2025-01-07）

### 决策内容

**第一届**: 采用**按原始分截尾**策略，先按原始分数截尾，再计算加权平均

### 决策详情

#### 问题背景

**疑问**: 截尾是按"加权分数"截尾，还是按"原始分数"截尾？

**核心冲突**:
- 旧算法: 先加权 → 按加权分截尾 → 平均
- 问题: 高权重用户的高分更容易被截掉（惩罚了认真评分的人）

---

#### 决策方案

**按原始分截尾，再加权平均**

**新算法流程**:
```
1. 计算用户权重 (W = 1 + ln(1+n))
2. 按原始分数截尾 (去掉最高最低各10%)
3. 加权平均 (剩余评分 × 权重后求平均)
```

---

#### 理由说明

**为什么选择按原始分截尾？**

1. ✅ **避免惩罚高权重用户**
   - 旧算法: 高权重用户(权重5.0)的10分 → 加权50分 → 被截掉 ❌
   - 新算法: 高权重用户的10分 → 按原始分10截尾 → 可能保留 ✅

2. ✅ **逻辑更合理**
   - 截尾针对"异常评分"，而非"异常加权分"
   - 恶意1分和亲友团10分仍会被截掉（原始分数极端）

3. ✅ **抗刷分能力不减**
   - 恶意刷低分(1.0)按原始分被截掉
   - 亲友团刷高分(10.0)按原始分被截掉
   - 抗刷分效果与旧算法相同

4. ✅ **实现复杂度增加不大**
   - 只需修改截尾逻辑: 从按加权分排序 → 改为按原始分排序
   - 加权平均计算更简单（无需还原步骤）

---

#### 算法对比

**示例**: 用户A(权重5.0)评10分，用户B(权重1.7)评10分

**旧算法**（按加权分截尾）:
- A: 10 × 5.0 = 50.0
- B: 10 × 1.7 = 17.0
- 截掉最高: 50.0（A的10分）❌ A被惩罚

**新算法**（按原始分截尾）:
- 原始分都是10.0
- 随机截掉一个10.0（可能是A，可能是B）
- A和B平等对待 ✅

---

#### 示例验证

假设11个评分:
- A(权重4.04): 9.0分
- G(权重1.69): 1.0分（恶意刷分）
- 其他9个评分: 7.5-10.0分

**旧算法**:
1. 加权: A的9.0 → 36.36
2. 按加权分截尾: 可能截掉36.36（A的9分）❌
3. 结果: 认真评分的用户被惩罚

**新算法**:
1. 按原始分排序: [1.0, 7.5, 8.0, ..., 10.0]
2. 截掉最低1.0（G，恶意1分）✅
3. 截掉最高10.0（可能是低权重用户）
4. A的9.0分被保留 ✅
5. 结果: 公平对待

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - ✅ 算法流程图: 调整步骤顺序
   - ✅ 步骤2: 改为"按原始分截尾"
   - ✅ 步骤3: 改为"加权平均"
   - ✅ 完整示例: 重新计算
   - ✅ Python代码: 修改`trim_scores_by_raw()`和`calculate_dimension_score()`

---

### 后续行动

#### 待更新文档

- [x] 更新混合方案算法文档的核心算法章节
- [x] 更新Python代码实现
- [ ] 更新前端UI提示文案（算法说明）
- [ ] 更新规则说明（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 截尾针对异常评分，不应惩罚高权重用户
- ✅ 逻辑合理性优于实现简单性
- ✅ 第一届就应做对，而非第二届再改

**风险评估**:
- ⚠️ 算法复杂度略微增加（需要按原始分排序）
- ✅ 实现难度增加不大（1-2小时）
- ✅ 用户体验显著提升（高权重用户不会被惩罚）

**无备选方案**: 这是正确的设计，无需考虑其他方案

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 长期有效（算法核心逻辑，不建议修改）

**责任人**: 蜡烛先生（产品经理）

---

## 决策4: 用户权重更新策略（2025-01-07）

### 决策内容

**第一届**: 采用**定时更新策略**，每小时批量更新一次用户权重

### 决策详情

#### 问题背景

**疑问**: 用户每次评分后，权重是立即更新还是定时更新？

**关键约束**: 权重仅影响"对他人游戏的评分影响力"，不影响用户自己的任何功能

---

#### 决策方案

**采用定时更新（每小时批处理）**

**更新逻辑**:
```
每小时执行一次批处理任务:
1. 扫描所有用户，更新权重: W = 1 + ln(1 + 评分次数)
2. 找出权重要变化的用户评过的所有游戏
3. 批量重算这些游戏的排名
```

---

#### 理由说明

**为什么选择定时更新？**

1. ✅ **用户体验好**
   - 权重提升后，用户的所有评分影响力同步提升
   - 避免了"仅新评分生效"带来的困惑

2. ✅ **服务器压力可控**
   - 每小时一次批处理，而非实时更新
   - 可以在低谷时段（如凌晨）执行
   - 避免了一次评分触发N个游戏重算的性能爆炸

3. ✅ **编程压力适中**
   - 需要设计批处理任务，但不是复杂的实时系统
   - 无需处理复杂的并发控制
   - 实现复杂度: 0.5-1人日

4. ✅ **符合第一届原则**
   - "办起来获得数据"
   - 比实时更新简单，比"仅新评分生效"体验更好

---

#### 性能评估

**场景**: 100个游戏，每个游戏平均20个评分

**计算量**:
- 每小时更新: ~100个游戏 × 12个榜单 = 1200个榜单计算
- 单个榜单计算: <100ms
- 总耗时: <2分钟

**服务器压力**: ⭐⭐（中等，完全可控）

---

#### 用户理解

**规则说明**（面向参赛者）:
> "你的权重基于评分次数计算，每小时更新一次。评分越多，权重越高，对他人游戏的评分影响力越大。"

**示例**:
- 你现在评了10次，权重=3.39
- 你评了第11个游戏
- 1小时内，你的权重会更新为3.49
- 你之前评过的10个游戏和第11个游戏，都会使用新的权重3.49计算排名

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 性能优化章节
   - 新增: 定时更新策略说明

2. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 排名更新频率章节
   - 明确: 权重每小时更新，排名每小时更新

---

### 后续行动

#### 待更新文档

- [ ] 更新混合方案算法文档的性能优化章节
- [ ] 更新前端UI提示文案
- [ ] 更新规则说明（面向参赛者）
- [ ] 设计批处理任务监控

#### 待实现功能

- [ ] 实现每小时批处理任务
- [ ] 实现权重更新逻辑
- [ ] 实现排名重算逻辑
- [ ] 添加批处理监控日志

---

### 决策依据

**设计理念**:
- ✅ 权重仅影响他人排名，非实时系统可接受
- ✅ 定时更新平衡了用户体验和服务器压力
- ✅ 第一届"稳定优于完美"

**风险评估**:
- ⚠️ 用户权重提升后有延迟（最多1小时）
- ✅ 延迟可接受，权重不是实时反馈系统
- ✅ 第二届可根据反馈调整更新频率

**备选方案**:
- 如果用户反馈延迟太大，第二届可改为每30分钟更新
- 如果服务器压力充足，第二届可改为每15分钟更新

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

## 未来讨论话题: "善意度"系统（2025-01-07记录）

### 提出人
蜡烛先生（产品经理）

### 核心想法

**当前权重系统的局限性**:
- 权重仅影响"对他人游戏的评分影响力"
- 作用域单一，激励有限

**"善意度"系统设计**:

善意度 = f(权重, 打赏次数, 点赞次数, 其他正向行为)

**善意度的作用**:
1. ✅ 影响用户自己游戏在展示区的曝光度
2. ✅ 善意度高的用户，游戏更容易"冒泡"
3. ✅ 善意度高的用户，游戏更容易被发现、评论

**设计意图**:
- 将权重从"单向影响力"扩展为"双向激励"
- 鼓励用户不仅多评分，还要多打赏、多点赞
- 形成"善意社区"的正向循环

### 组成要素

| 要素 | 当前权重系统 | 善意度系统 |
|------|-------------|-----------|
| 评分次数 | ✅ 计入权重 | ✅ 计入善意度 |
| 打赏次数 | ❌ 不计入 | ✅ 计入善意度 |
| 点赞次数 | ❌ 不计入 | ✅ 计入善意度 |
| 作用域 | 仅影响他人排名 | 影响自己游戏曝光 |

### 讨论状态

**状态**: 💡 想法记录阶段

**待讨论问题**:
1. 善意度的具体计算公式？
2. 打赏、点赞的权重如何设置？
3. 是否需要"恶意度"（刷分、恶意举报等）？
4. 善意度如何影响展示算法？（排序权重？推荐算法？）
5. 第一届是否需要引入善意度系统？

**建议讨论时间**: 第一届结束后，根据社区反馈决定

**责任人**: 蜡烛先生（产品经理）

---

## 决策7: 用户权重初始化（2025-01-07）

### 决策内容

**第一届**: 初始权重 = **1.0**，直接使用公式计算，无预热期

### 决策详情

#### 初始化规则

**初始状态**:
- 评分次数 = 0
- 初始权重 = 1 + 0.55×ln(1+0) = **1.0**

**首次评分后**:
- 评分次数 = 1
- 权重 = 1 + 0.55×ln(2) ≈ **1.38**（+38%）

---

#### 权重增长路径

| 评分次数 | 权重 | 增幅 | 说明 |
|---------|------|------|------|
| 0次 | 1.00 | - | 初始状态 |
| 1次 | 1.38 | +38% | 快速增长 ✅ |
| 2次 | 1.61 | +17% | 持续增长 |
| 3次 | 1.76 | +9% | 增速放缓 |
| 4次 | 1.89 | +7% | 接近2.0 |
| 5次 | 1.98 | +5% | ≈2.0 ✅ |

**增长特点**:
- 前3次: 快速增长（1.0 → 1.76，+76%）
- 3-5次: 中速增长（1.76 → 1.98，+13%）
- 5次以后: 缓慢增长

---

#### 理由说明

**为什么选择初始权重1.0？**

1. ✅ **逻辑一致**: 公式 `W = 1 + 0.55×ln(1+n)` 适用于所有 n ≥ 0
2. ✅ **简单明了**: 无需额外的"预热期"规则
3. ✅ **即时激励**: 第一个评分者立即看到权重提升（1.0 → 1.38）
4. ✅ **符合第一届原则**: "稳定优于完美"，不过度设计
5. ✅ **用户体验平滑**: 权重增长逐渐减缓（+38% → +17% → +9%）

---

#### 备选方案（已否决）

**选项B**: 预热期（前3次评分权重都是1.0）
- ❌ 与公式 `W = 1 + 0.55×ln(1+n)` 不符
- ❌ 前3次评分无激励，可能影响积极性

**选项C**: 初始权重 = 1.38（相当于评了1次）
- ❌ 与"未评分用户权重=1.0"矛盾
- ❌ 逻辑混乱

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统算法方案-混合版_v1.0.md**
   - 步骤1: 用户权重计算章节
   - 新增: 初始权重说明

2. **数据库设计**
   ```sql
   CREATE TABLE user_weights (
       user_id INT PRIMARY KEY,
       score_count INT NOT NULL DEFAULT 0,
       weight DECIMAL(5,2) NOT NULL DEFAULT 1.00,  -- 初始权重1.0
       last_calculated_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
   );
   ```

---

### 后续行动

#### 待更新文档

- [ ] 更新混合方案算法文档（添加初始权重说明）
- [ ] 更新数据库表设计注释
- [ ] 更新规则说明（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 公式适用于所有场景，无需特殊规则
- ✅ 第一个评分者立即获得激励
- ✅ 简单直接，符合第一届原则

**风险评估**:
- ⚠️ 从1.0跳到1.38可能有人觉得"突然"
- ✅ 但后续增长逐渐减缓（+38% → +17% → +9%），用户体验平滑
- ✅ 第一届可接受，第二届可根据反馈调整

**备选方案**:
- 如果第一届发现用户对"1.0 → 1.38"跳变有强烈反馈
- 第二届可考虑预热期（前3次权重固定1.0）

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 长期有效（公式基础逻辑）

**责任人**: 蜡烛先生（产品经理）

---

## 决策8: 用户权重显示规则（2025-01-07）

### 决策内容

**第一届**: 显示评分次数和评分分布，**不显示权重数值和权重区间**

### 决策详情

#### 显示内容 ✅

**1. 评分次数统计**:
- 总评分次数: 15次
- 评分游戏数: 15个游戏

**2. 各分值出现次数**:
```
你的评分分布:
- 10分: 3次
- 9分: 5次
- 8分: 4次
- 7分: 2次
- 6分: 1次
- 1-5分: 0次
```

**3. 各维度评分次数**:
```
各维度评分统计:
- 创新性: 15次
- 主题诠释: 15次
- 视觉效果: 15次
- 音乐音频: 15次
- 整体性: 15次
- 有活儿: 15次
```

**4. 各维度分值分布**:
```
创新性维度评分分布:
- 10分: 2次
- 9分: 6次
- 8分: 5次
- 7分: 2次
```

---

#### 不显示内容 ❌

1. ❌ **权重数值**: 不显示"你的当前权重: 2.27"
2. ❌ **权重区间**: 不显示"你的权重等级: 中高（前40%）"
3. ❌ **权重公式**: 不在主界面显示公式

---

#### 理由说明

**为什么只显示评分次数，不显示权重？**

1. ✅ **避免数值攀比**: 不显示具体权重值（如2.27），减少"谁权重高"的攀比
2. ✅ **保留透明度**: 用户能看到自己的评分历史和分布，系统是透明的
3. ✅ **激励评分**: 用户看到"已评15次"，自然想继续评分提升影响力
4. ✅ **简单直观**: "评分次数"比"权重值"更易理解
5. ✅ **防止公式游戏**: 不显示权重公式和区间，防止用户为了刷权重而评分

---

#### UI设计示例

**用户个人中心 - 评分贡献页面**:

```
📊 你的评分贡献

📈 评分总览
✓ 已评分 15 个游戏
✓ 总评分次数: 15 次
✓ 评分活跃度: 前20% 💪

📊 评分分布
- 10分: 3次 (20%)
- 9分: 5次 (33%)
- 8分: 4次 (27%)
- 7分: 2次 (13%)
- 6分: 1次 (7%)

🎯 各维度统计
创新性: 15次 | 主题诠释: 15次 | 视觉效果: 15次
音乐音频: 15次 | 整体性: 15次 | 有活儿: 15次

💡 提示
评分越多，你的评分影响力越大。[查看权重规则]
```

**点击"查看权重规则"后**:
- 显示完整的权重公式和计算规则
- 但不显示用户当前的具体权重值

---

#### 数据存储

**数据库字段**:
```sql
-- 评分统计表（预计算）
user_score_stats (
    user_id INT,
    total_score_count INT,           -- 总评分次数
    game_count INT,                   -- 评分游戏数
    dimension_innovation_count INT,   -- 创新性评分次数
    dimension_theme_count INT,        -- 主题诠释评分次数
    dimension_visual_count INT,       -- 视觉效果评分次数
    dimension_audio_count INT,        -- 音乐音频评分次数
    dimension_overall_count INT,      -- 整体性评分次数
    dimension_creative_count INT,     -- 有活儿评分次数

    -- 评分分布（JSON）
    score_distribution JSON,          -- {"10": 3, "9": 5, "8": 4, ...}

    -- 各维度评分分布（JSON）
    dimension_distributions JSON,     -- {"innovation": {"10": 2, "9": 6, ...}, ...}
)
```

---

### 影响范围

#### 受影响文档

1. **前端UI设计文档**
   - 用户中心页面设计
   - 评分贡献页面设计
   - 权重规则说明页面

2. **API接口文档**
   - 新增: `GET /api/user/score-stats`（获取用户评分统计）
   - 不提供: 权重值查询接口

3. **数据库设计**
   - 新增: `user_score_stats` 表
   - 预计算评分统计，避免实时查询

---

### 后续行动

#### 待实现功能

- [ ] 实现评分统计预计算任务
- [ ] 实现评分贡献页面UI
- [ ] 实现评分分布可视化（饼图/柱状图）
- [ ] 实现权重规则说明页面

#### 待更新文档

- [ ] 更新前端UI设计文档
- [ ] 更新API接口文档
- [ ] 更新用户手册（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 透明度与隐私平衡：显示评分历史，隐藏权重数值
- ✅ 激励评分但不攀比：用户知道自己"评了15次"，但不知道具体权重
- ✅ 防止刷权重：不显示权重公式和区间，防止针对性刷分

**风险评估**:
- ⚠️ 用户可能想知道"我的权重到底是多少？"
- ✅ 通过"查看权重规则"满足用户好奇心，但不显示具体数值
- ✅ 第一届可接受，第二届可根据反馈调整

**备选方案**:
- 如果第一届用户强烈要求显示权重值
- 第二届可考虑显示权重等级（如"中高等级"），但仍不显示具体数值（如2.27）

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

*文档维护人: 老黑(Claude)*
*最后更新: 2025-01-07*
*版本: v1.0*

---

## 决策9: 团队作品排名规则（2025-01-07）

### 决策内容

**Q6**: 团队作品如何计入12个榜单？ → **选项C: 混合 + 标识**

**Q7**: 个人赛道和团队赛道是否完全独立？ → **选项A: 混合排名**

**Q8**: 退出成员的作品排名是否受影响？ → **问题不成立**（权重不影响自己游戏排名）

### 决策详情

#### Q6: 团队作品如何计入12个榜单？

**决策**: 团队作品和个人作品混合排名，添加标识区分

**规则**:
1. ✅ 12个榜单（6维度 × 2评分群体）中，团队作品和个人作品混合排名
2. ✅ 在榜单中添加"团队"或"个人"标识
3. ✅ 用户可筛选查看：全部/仅个人/仅团队
4. ✅ 保持简单（12榜单，不扩展到24榜单）

**理由**:
- ✅ 简单优先（12榜单，非24榜单）
- ✅ 透明度高（标识清晰）
- ✅ 灵活性强（用户可筛选）
- ✅ 符合第一届"稳定优于完美"原则

---

#### Q7: 个人赛道和团队赛道是否完全独立？

**决策**: 混合排名，与Q6保持一致

**规则**:
1. ✅ 个人作品和团队作品在同一12个榜单中混合排名
2. ✅ 一个用户可以同时有个人作品和团队作品出现在榜单中
3. ✅ 保持一致性（与Q6的"混合+标识"方案一致）

**理由**:
- ✅ 简单（12榜单，非24榜单）
- ✅ 与Q6保持一致
- ✅ 避免复杂化

---

#### Q8: 退出成员的作品排名是否受影响？

**决策**: 问题不成立

**核心事实**:
- ✅ 用户权重仅影响"对他人游戏的评分影响力"
- ✅ 用户权重不影响自己游戏的任何排名
- ✅ 因此：成员退出不影响其作品的排名

**实际规则**:
- ✅ 团队成员退出不影响游戏排名
- ✅ 以提交时的作者列表为准
- ✅ 焦点在游戏质量，不在团队稳定性

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 更新§1榜单独立性：添加团队作品规则
   - 更新§2排名资格：明确团队作品和个人作品混合排名

2. **前端UI设计文档**
   - 榜单页面：添加"个人"/"团队"标识
   - 筛选功能：添加"全部"/"仅个人"/"仅团队"筛选器

3. **API接口文档**
   - 榜单查询接口：返回作品类型（个人/团队）

---

### 后续行动

#### 待更新文档

- [ ] 更新排名系统设计文档（团队作品章节）
- [ ] 更新前端UI设计文档（榜单标识和筛选）
- [ ] 更新API接口文档（作品类型字段）

#### 待实现功能

- [ ] 榜单列表显示"个人"/"团队"标识
- [ ] 添加筛选器（全部/仅个人/仅团队）
- [ ] 作品详情页显示作者类型

---

### 决策依据

**设计理念**:
- ✅ 简单优先：保持12榜单架构
- ✅ 透明度高：通过标识让用户自主判断
- ✅ 一致性：Q6和Q7保持一致
- ✅ 符合第一届原则："稳定优于完美"

**风险评估**:
- ⚠️ 团队作品可能和个人作品难以公平对比
- ✅ 通过标识和筛选降低争议
- ✅ 第一届可接受，第二届可根据数据优化

**备选方案**:
- 如果第一届发现混合排名争议较大
- 第二届可考虑独立排名（24榜单）

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

## 决策10: 排名显示与作弊处理（2025-01-07）

### 决策内容

**Q9**: 排名列表显示多少名？ → **首页Top 10 + 详情页完整排名**

**Q11**: 排名期间发现作弊如何处理？ → **公示前警告，公示后取消+顺延**

### 决策详情

#### Q9: 排名列表显示多少名？

**决策**: 首页显示Top 10，游戏详情页显示完整排名和均分

**规则**:
1. ✅ **首页榜单**: 显示前10名
2. ✅ **游戏详情页**: 显示该游戏在各维度的排名 + 各维度均分
3. ✅ 不足10名时，显示所有达到门槛的游戏

**理由**:
- ✅ 简洁：首页只展示头部（Top 10）
- ✅ 完整：详情页提供完整信息（排名+均分）
- ✅ 性能好：首页加载快
- ✅ 符合第一届原则

**UI设计示例**:
```
首页 - 排名榜单
🏆 Top 10 - 参赛者榜 - 创新性维度
🥇 1. 游戏A              8.92分
🥈 2. 游戏B              8.75分
...
10. 游戏J                7.21分

游戏详情页
📊 排名概览
创新性: #5 (8.52分)
主题诠释: #8 (8.21分)
视觉效果: #3 (8.74分)
...
各维度均分: 8.41分
```

---

#### Q11: 排名期间发现作弊如何处理？

**决策**: 分阶段处理（公示前 vs 公示后）

**公示前发现作弊**:
1. ⚠️ **情况轻**: 警告 + 要求整改
2. ❌ **不整改**: 取消资格

**公示后发现作弊**:
1. ❌ **取消资格**: 作弊游戏取消排名
2. 🚫 **冻结/隐藏游戏**: 从榜单移除
3. ⬆️ **排名顺延**: 后续排名自动提升

**处理流程**:
```
1. 发现作弊（举报或人工审核）
2. 评审团核实（至少2人确认）
3. 根据发现时机处理：
   - 公示前：警告或取消资格
   - 公示后：取消资格 + 冻结游戏 + 排名顺延
4. 公示处理结果（保护隐私，不公开作弊者身份）
```

**作弊类型**:
- 评分互刷（互相打10分）
- 亲友团刷分（叫来一堆人打高分）
- 恶意1分（恶意打低分）
- 多账号刷分（一个人注册多个账号）
- 使用AI不报备且参与相关评分

**理由**:
- ✅ 公平性：保证排名公正性
- ✅ 威慑：明确处理规则
- ✅ 透明：公示处理结果（保护隐私）
- ✅ 简单：处理流程清晰

---

### 影响范围

#### 受影响文档

1. **前端UI设计文档**
   - 首页榜单页面设计（Top 10）
   - 游戏详情页设计（完整排名 + 均分）
   - 作弊处理通知设计

2. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 排名展示章节
   - 反作弊机制章节

3. **规则说明（面向参赛者）**
   - 排名展示规则
   - 作弊处理规则

---

### 后续行动

#### 待更新文档

- [ ] 更新排名系统设计文档（排名展示章节）
- [ ] 更新前端UI设计文档（Top 10 + 详情页）
- [ ] 更新规则说明（面向参赛者）

#### 待实现功能

- [ ] 首页榜单Top 10展示
- [ ] 游戏详情页完整排名展示
- [ ] 作弊举报功能
- [ ] 作弊处理通知

---

### 决策依据

**设计理念**:
- ✅ 简洁优先：首页Top 10，详情页完整
- ✅ 透明度：游戏详情页显示完整排名和均分
- ✅ 公平性：明确作弊处理规则
- ✅ 符合第一届原则："稳定优于完美"

**风险评估**:
- ⚠️ Top 10可能让第11名及以后用户感到失落
- ✅ 详情页提供完整信息，缓解此问题
- ⚠️ 作弊判定需要人工审核，增加工作量
- ✅ 第一届可接受，第二届可优化流程

**第二届优化方向**:
- 如果用户反馈强烈，首页可改为Top 20或Top 30
- 如果第一届作弊严重，第二届可引入更自动化检测

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

*文档维护人: 老黑(Claude)*
*最后更新: 2025-01-07*
*版本: v1.2*

---

## 决策11: 多游戏作品处理规则（2025-01-07）

### 决策内容

**同一人多个作品如何处理？** → **作为整体作品参与排名**

### 决策详情

#### 核心规则

**前提条件**（已明确）:
- ✅ 一个用户一次比赛只能创建**1个作品链接**
- ✅ 但1个链接可以包含**多个游戏**（只要它们能构成一个整体）

**决策**:
1. ✅ 一个链接包含多个游戏时，作为**一个整体作品**参与排名
2. ✅ 6个维度评分针对整个合集（整体评分）
3. ✅ 在12个榜单中作为单一作品参与排名

**示例**:
- 用户A提交1个链接 → 包含3个小游戏的合集 → 作为一个作品参与排名
- 用户B提交1个链接 → 包含1个独立游戏 → 作为一个作品参与排名

---

#### 理由说明

**为什么选择整体评分？**

1. ✅ **符合"构成一个整体"的设计原则**
   - 既然要求多个游戏"构成一个整体"，就应该整体评价
   - 类似于电影合集或音乐专辑，作为整体作品评审

2. ✅ **简单直接**
   - 符合第一届"稳定优于完美"原则
   - 避免复杂的拆分评分逻辑

3. ✅ **避免过度复杂化**
   - 如果分别评分，违背了"构成一个整体"的前提
   - 用户需要提交更多维度评分，增加评分负担

4. ✅ **激励策略清晰**
   - 如果参赛者想突出某个游戏，应该单独提交
   - 避免通过"打包"策略获得额外曝光

---

#### 评分规则

**整体评分方式**:
- ✅ 6个维度评分针对整个合集
- ✅ 例如"创新性"评整个合集的创新性，而非单个游戏
- ✅ 例如"有活儿"评整个合集的内容丰富度

**示例**:
```
用户A的作品: "3个小游戏的合集"
- 创新性: 8.5分（整体评价）
- 主题诠释: 8.0分（整体评价）
- 视觉效果: 9.0分（整体评价）
- ...
```

---

#### 设计澄清

**不是问题的问题**:
- ❌ ~~同一人可以提交多个作品~~ （规则限制：每人每次只能1个链接）
- ✅ 实际问题：一个链接包含多个游戏时，如何处理排名？

**答案**: 整体评分，作为一个作品参与排名

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 排名资格章节
   - 明确：一个链接包含多个游戏时，作为整体作品参与排名

2. **规则说明（面向参赛者）**
   - 作品提交规则
   - 评分规则说明

---

### 后续行动

#### 待更新文档

- [ ] 更新排名系统设计文档（多游戏作品规则）
- [ ] 更新规则说明（面向参赛者）
- [ ] 更新作品提交指南

---

### 决策依据

**设计理念**:
- ✅ 符合"构成一个整体"的设计原则
- ✅ 简单直接，避免过度复杂化
- ✅ 第一届"稳定优于完美"

**风险评估**:
- ⚠️ 可能无法体现其中某个游戏的突出表现
- ✅ 符合设计原则：既然是"整体"，就应该整体评价
- ✅ 如果参赛者想单独突出某个游戏，应该单独提交

**备选方案**:
- 如果第一届发现很多用户抱怨无法突出单个游戏
- 第二届可考虑允许"主游戏+附加游戏"的分别评分机制
- 但第一届保持简单，整体评分

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

## 决策12: 评分人次计算规则确认（2025-01-07）

### 决策内容

**评审团权重×2是否公平？** → **保持权重×2**

**是否需要最低参赛者评分要求？** → **不要求（第一届）**

### 决策详情

#### 问题1: 评审团权重×2是否公平？

**决策**: 保持权重×2（与决策2一致）

**规则**:
1. ✅ 总人次 = 参赛者评分人次 + 2×评审团评分人次
2. ✅ 门槛: >15人次
3. ✅ 评审团权重×2仅体现在门槛计算

**示例**:
```
游戏X: 参赛者10个 + 评审团3个
总人次 = 10 + 2×3 = 16 ✅ 达标（>15）

游戏Y: 参赛者5个 + 评审团6个
总人次 = 5 + 2×6 = 17 ✅ 达标（>15）
```

**理由**:
- ✅ 与决策2（评审团权威性体现方式）保持一致
- ✅ 体现评审团权威性
- ✅ 鼓励评审团认真评分
- ✅ 简单直接，避免过度设计

---

#### 问题2: 是否需要最低参赛者评分要求？

**决策**: 不要求最低参赛者评分（第一届）

**规则**:
1. ✅ 只要总人次 >15，即可参与排名
2. ✅ 不要求最低参赛者评分数量
3. ✅ 通过标注规则提示用户可信度（已在决策1中定义）

**标注规则**（决策1已定义）:
- 评分数量 ≥ 20个: 正常显示
- 评分数量 10-19个: 标注⚠️ "样本量较小"
- 评分数量 < 10个: 标注⚠️⚠️ "样本量很小，仅供参考"

**示例**:
```
游戏X: 参赛者0个 + 评审团8个
总人次 = 0 + 2×8 = 16 ✅ 达标
标注: "8个评审团评分 ⚠️⚠️ 样本量很小，仅供参考"

游戏Y: 参赛者15个 + 评审团0个
总人次 = 15 + 2×0 = 15 ❌ 不达标（需要>15）
```

**理由**:
- ✅ 第一届优先简单，不过度设计
- ✅ 通过标注规则透明展示数据可信度
- ✅ 用户可自主判断排名可信度
- ✅ 避免硬性门槛导致榜单不完整

---

### 影响范围

#### 受影响文档

1. **惊蛰计划-排名系统设计文档_v1.0.md**
   - 排名资格章节
   - 明确：评审团权重×2保持不变
   - 明确：不要求最低参赛者评分

2. **规则说明（面向参赛者）**
   - 排名门槛规则
   - 标注规则说明

---

### 后续行动

#### 待更新文档

- [ ] 更新排名系统设计文档（评分人次计算规则）
- [ ] 更新规则说明（面向参赛者）
- [ ] 确保标注规则在前端正确实现

---

### 决策依据

**设计理念**:
- ✅ 与之前决策保持一致（决策2：评审团权威性）
- ✅ 第一届"稳定优于完美"
- ✅ 透明度：通过标注让用户自主判断可信度

**风险评估**:
- ⚠️ 可能出现"只有评审团评分"的作品参与排名
- ✅ 通过标注规则降低争议（⚠️⚠️ 样本量很小）
- ✅ 第一届可接受，第二届可根据数据优化

**第二届优化方向**:
- 如果第一届发现评审团权重过高导致不公平
- 第二届可考虑降低评审团权重（如改为×1.5）
- 如果第一届发现很多作品缺少参赛者评分
- 第二届可考虑引入最低参赛者评分要求

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 第一届（第二届需重新评估）

**责任人**: 蜡烛先生（产品经理）

---

## 决策13: 评分打赏机制（2025-01-08）

### 决策内容

**评分打赏**: 评分后必须打赏至少1金币（1-10档位）

### 决策详情

#### 核心规则

**强制打赏机制**:
- ✅ 评分后必须打赏才能提交
- ✅ 打赏范围：1-10金币
- ✅ 打赏给游戏开发者
- ✅ 不打赏无法完成评分提交

**目的**:
1. ✅ 确保评分者有成本，防止恶意评分
2. ✅ 形成经济循环（评分者 → 游戏开发者）
3. ✅ 激励认真评分（有成本会更慎重）

---

#### 经济模型

**每次评分的金币流**:
```
评分者: +1金币（奖励） -1金币（打赏） = 0金币净成本
游戏开发者: +1金币（收到打赏）
```

**经济循环**:
- 评分者A评游戏B → A获得1金币奖励，A打赏1金币给B
- A的净成本：0金币
- B的收益：+1金币
- 金币流向：评分者 → 游戏开发者

---

#### 打赏档位

**打赏选项**:
- 1金币（最低档位，默认选择）
- 2金币
- 3金币
- ...
- 10金币（最高档位）

**默认值**: 1金币（减少操作成本）

**显示**: 评分提交界面显示"打赏给开发者：[1-10]金币"

---

### 影响范围

#### 受影响文档

1. **关键名词解释索引_v1.0.md**
   - 新增"评分打赏"概念定义
   - 相关决策: 决策13

2. **评分系统设计文档**
   - 评分流程章节
   - 新增打赏步骤
   - 经济影响说明

3. **经济系统设计**
   - 金币流动机制
   - 评分激励章节

---

### 后续行动

#### 待更新文档

- [x] 创建《关键名词解释索引》并添加"评分打赏"
- [ ] 更新评分系统设计文档
- [ ] 更新经济系统设计文档
- [ ] 更新前端评分UI设计（添加打赏选择）
- [ ] 更新规则说明（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 有成本的评分更认真
- ✅ 形成经济循环，激励创作
- ✅ 净成本为0，不阻碍评分参与
- ✅ 简单直接，1金币默认档位

**风险评估**:
- ⚠️ 可能导致部分用户不愿意评分
- ✅ 净成本为0，实际阻碍较小
- ✅ 与评分奖励配合，激励效果更强
- ✅ 第一届可观察效果，第二届可调整

**备选方案**:
- 备选1: 不强制打赏，改为鼓励打赏
- 备选2: 打赏档位改为1-5金币
- 未采纳原因: 缺乏成本约束，激励效果较弱

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 长期（第二届可评估调整）

**责任人**: 蜡烛先生（产品经理）

---

## 决策14: 评分金币奖励机制（2025-01-08）

### 决策内容

**评分奖励**: 每次有效评分获得1金币

### 决策详情

#### 核心规则

**有效评分定义** ✅（2025-01-08明确）:
- 对某个游戏的**第一次评分提交**（无论评了几个维度）
- 允许对某些维度给0分
- 修改评分不算新的有效评分
- 重复评同一个游戏不算新的有效评分

**奖励规则**:
- ✅ 每次有效评分获得1金币
- ✅ 只计算第一次提交
- ✅ 允许部分维度评分或0分
- ✅ 修改评分不重复奖励

**作用范围**:
- 用户权重计算（评分次数统计）
- 金币奖励计算
- 评分活跃度统计

---

#### 示例说明

**有效评分示例**:
- ✅ 用户评了游戏A的6个维度 → 有效评分（+1金币，次数+1）
- ✅ 用户评了游戏B的1个维度 → 有效评分（+1金币，次数+1）
- ✅ 用户对游戏C的某个维度给了0分 → 有效评分（+1金币，次数+1）
- ❌ 用户修改游戏A的评分 → 不算有效评分（无奖励，次数不变）
- ❌ 用户重复评游戏A → 不算有效评分（无奖励，次数不变）

**用户权重计算**:
- 用户A评了10个游戏（无论评了几个维度）
- 评分次数 = 10
- 权重 = 1 + 0.55×ln(11) = 2.37
- 金币奖励 = 10金币

---

#### 经济影响

**个人用户**:
- 评分10个游戏 → 获得10金币 → 打赏10金币 → 净成本0金币

**整体经济**:
- 100个用户，每人评分10个游戏
- 总奖励支出：100×10 = 1000金币
- 总打赏流入：1000金币
- 金币流向：平台 → 评分者 → 游戏开发者
- 平台净支出：0金币（金币循环）

---

### 影响范围

#### 受影响文档

1. **关键名词解释索引_v1.0.md**
   - 新增"评分奖励"概念定义
   - 修正"有效评分"定义
   - 相关决策: 决策6、决策14

2. **排名系统决策记录.md**
   - 决策6: 用户权重公式章节
   - 修正"评分次数定义"为"无论评了几个维度"

3. **评分系统设计文档**
   - 评分激励章节
   - 有效评分定义
   - 金币奖励规则

4. **经济系统设计**
   - 金币产出机制
   - 经济平衡计算

---

### 后续行动

#### 待更新文档

- [x] 创建《关键名词解释索引》并添加"评分奖励"
- [x] 修正决策6中的"评分次数定义"
- [ ] 更新评分系统设计文档
- [ ] 更新经济系统设计文档
- [ ] 更新规则说明（面向参赛者）

---

### 决策依据

**设计理念**:
- ✅ 激励用户多评分
- ✅ 净成本为0，不造成金币压力
- ✅ 允许灵活评分（不强制评满6个维度）
- ✅ 与打赏配合，形成经济循环

**关键修正**（2025-01-08）:
- ✅ **修正前误解**: 要求评满6个维度才算有效评分
- ✅ **修正后定义**: 第一次提交即可，无论评了几个维度
- ✅ **修正原因**: 用户可能对某些维度认为应给0分，不应强制评分

**风险评估**:
- ⚠️ 金币总产出增加
- ✅ 通过打赏机制实现金币回流
- ✅ 平台净支出为0
- ✅ 第一届可观察效果，第二届可调整奖励数额

**备选方案**:
- 备选1: 要求评满6个维度才给奖励
- 备选2: 按评维度数量给奖励（每维度0.17金币）
- 未采纳原因: 过度限制，缺乏灵活性

---

### 决策状态

**状态**: ✅ 已确认

**生效时间**: 第一届惊蛰计划

**有效期**: 长期（第二届可评估调整奖励数额）

**责任人**: 蜡烛先生（产品经理）

---
