# 游戏详情页设计文档

**文档版本**: v1.0
**创建日期**: 2025-01-10
**设计状态**: ✅ 基于已确认规则完成
**依赖文档**:
- [经济系统设计文档_v1.2.md](../惊蛰计划-经济系统设计文档_v1.0.md)
- [评分系统设计方案_v2.0.md](../评分系统设计方案_v1.0.md)
- [游戏提交系统设计文档_v1.1.md](../game-submission-system-requirements-and-design_2025-01-08.md)

---

## 设计概述

### 页面目标

游戏详情页是用户了解游戏、进行评分、查看收益数据的核心页面。该页面需要:

1. ✅ 展示游戏基本信息（标题、描述、截图等）
2. ✅ 展示评分数据（6个维度的参赛者/评审团评分）
3. ✅ 展示打赏记录和收益统计（截尾均值、心理价位对比）
4. ✅ 提供评分入口（参赛者可评分）
5. ✅ 展示下载链接和游戏资源
6. ✅ 显示创作团队信息

### 用户角色与权限

| 用户角色 | 查看权限 | 评分权限 | 打赏权限 |
|---------|---------|---------|---------|
| 路人(未登录) | ✅ 可查看 | ❌ 不可评分 | ❌ 不可打赏 |
| 路人玩家 | ✅ 可查看 | ❌ 不可评分 | ❌ 不可打赏 |
| 参赛者 | ✅ 可查看 | ✅ 可评分(非自评) | ✅ 可打赏(评分时) |
| 评审团 | ✅ 可查看 | ✅ 可评分 | ✅ 可打赏(评分时) |
| 管理员 | ✅ 可查看 | ❌ 不可评分 | ❌ 不可打赏 |

---

## 页面布局设计

### 整体布局

```
┌─────────────────────────────────────────────────────────────┐
│  [导航栏]                                                    │
├─────────────────────────────────────────────────────────────┤
│  [面包屑] 首页 > 游戏列表 > 游戏详情                         │
├─────────────────────────────────────────────────────────────┤
│                                                              │
│  ┌────────────────────────────────────────────────────────┐ │
│  │ [游戏封面图]              [游戏标题]                    │ │
│  │  (横幅/截图)                [游戏类型标签]              │ │
│  │                            [创作团队信息]              │ │
│  │                            [AI使用标识]                │ │
│  └────────────────────────────────────────────────────────┘ │
│                                                              │
│  [左侧主区域 70%]              [右侧边栏 30%]                │
│  ┌────────────────────┐     ┌──────────────────────┐       │
│  │ [游戏介绍]          │     │ [评分统计卡片]        │       │
│  │ [游戏截图]          │     │ [收益统计卡片] ⭐     │       │
│  │ [下载区域]          │     │ [操作按钮区]          │       │
│  │ [评分详情]          │     │ [创作团队详情]        │       │
│  │ [打赏记录]          │     │                      │       │
│  └────────────────────┘     └──────────────────────┘       │
│                                                              │
└─────────────────────────────────────────────────────────────┘
```

---

## 详细模块设计

### 模块1: 游戏头部信息区

#### 1.1 游戏封面图

**位置**: 页面顶部，全宽横幅

**展示内容**:
- 游戏横幅图片 (上传时的封面图)
- 尺寸: 16:9 或 1200x675px
- 备用: 如无横幅，使用第一张截图

**交互**:
- 点击查看大图（模态框）

#### 1.2 游戏标题与基本信息

**布局**: 封面图右侧/下方

**展示内容**:
```
┌─────────────────────────────────────┐
│ 游戏标题                              │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│ [解谜] [单机] [中文]                  │
│ 👁️ 1,234 浏览  ⭐️ 45 评分  💬 12 评论  │
│                                      │
│ 👤 创作者: 张三                       │
│ 👥 团队: 独立开发者                   │
│ 📅 提交时间: 2025-01-08               │
│                                      │
│ 🤖 AI使用:                           │
│   美术: 全原创                       │
│   音频: 部分使用AI (Suno)            │
└─────────────────────────────────────┘
```

**标签规则**:
- **游戏类型标签**: 从提交时选择的类型（解谜、角色扮演、动作等）
- **语言标签**: 中文、英文等
- **游玩模式标签**: 单机、多人等
- **AI使用标签**:
  - 全原创: 无额外标识
  - 部分使用AI: 显示"部分使用AI"，悬浮显示工具名称
  - 全部使用AI: 显示"AI生成"，悬浮显示工具名称

**统计数据**:
- 浏览量: 页面访问次数
- 评分人数: 总评分人次（参赛者 + 评审团×2）
- 评论数: 评论数量

---

### 模块2: 评分统计卡片 ⭐ (右侧边栏)

#### 2.1 卡片布局

**位置**: 右侧边栏顶部

**展示内容**:
```
┌──────────────────────────────────────┐
│  📊 评分统计                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  【参赛者评分】                        │
│  创新性    ★★★★☆ 8.5/10  (排名 #3)   │
│  主题诠释  ★★★☆☆ 7.2/10  (排名 #8)   │
│  视觉效果  ★★★★☆ 8.8/10  (排名 #5)   │
│  音乐音频  ★★★★☆ 8.3/10  (排名 #6)   │
│  整体性    ★★★★☆ 8.9/10  (排名 #4)   │
│  整活儿    ★★★★☆ 8.6/10  (排名 #7)   │
│                                       │
│  【评审团评分】                        │
│  创新性    ★★★★★ 9.2/10  (排名 #2)   │
│  主题诠释  ★★★★☆ 8.5/10  (排名 #5)   │
│  视觉效果  N/A (使用AI，不参与排名)    │
│  音乐音频  ★★★★☆ 8.8/10  (排名 #4)   │
│  整体性    ★★★★★ 9.0/10  (排名 #3)   │
│  整活儿    ★★★★☆ 8.7/10  (排名 #5)   │
│                                       │
│  📝 评分人次: 45 (参赛者35 + 评审团5×2)│
│  ✅ 已达排名门槛                       │
└──────────────────────────────────────┘
```

#### 2.2 评分展示规则

**数据来源**: 评分系统（截尾均值 + 贝叶斯平滑）

**显示格式**:
- 星级: ★★★★★ (10分)、★★★★☆ (9分)、★★★☆☆ (8分)、★★☆☆☆ (7分)、★☆☆☆☆ (6分以下)
- 原始分: 8.5/10
- 组合显示: `★★★★☆ 8.5/10`
- 排名: `(排名 #3)`

**未达门槛的显示**:
```
┌──────────────────────────────────────┐
│  📊 评分统计                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  ⚠️ 未达排名门槛 (12/30人次)          │
│                                       │
│  参考平均分:                          │
│  创新性    8.5/10                     │
│  主题诠释  7.2/10                     │
│  ...                                  │
│                                       │
│  💡 提示: 需要至少30个评分人次才能进入│
│     正式排名                          │
└──────────────────────────────────────┘
```

**AI维度不参与排名**:
- 维度显示为"N/A (使用AI，不参与排名)"
- 不显示星级和排名
- 不计入优选游戏判定

**点击交互**:
- 点击维度分数 → 跳转到该维度的排行榜
- 显示该游戏在榜单中的位置

---

### 模块3: 收益统计卡片 ⭐⭐⭐ (右侧边栏)

#### 3.1 卡片布局 (核心创新)

**位置**: 右侧边栏，评分统计卡片下方

**展示内容**:
```
┌──────────────────────────────────────┐
│  💰 收益统计                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  心理价位: 10金币                      │
│  实际收益(截尾均值): 15金币            │
│  价位吻合度: 50% ⚠️                    │
│  标签: 被低估 📈 ⚠️                    │
│                                       │
│  打赏详情:                             │
│  - 打赏人数: 50人                      │
│  - 打赏总额: 500金币                   │
│  - 打赏分布:                           │
│    1金币×30 (60%)                     │
│    2金币×15 (30%)                     │
│    3金币×4 (8%)                       │
│    100金币×1 (已过滤，刷单检测)       │
│                                       │
│  收益状态: 💎 冻结中 (赛后结算)        │
└──────────────────────────────────────┘
```

#### 3.2 收益展示规则 ⭐⭐⭐

**核心指标** (基于已确认的心理价位机制):

1. **心理价位**:
   - 创作者设定的预期价格
   - 范围: 1-20金币
   - 仅创作者本人可修改（评分开始前）

2. **实际收益(截尾均值)**:
   - 去掉最高和最低各10%后的打赏平均值
   - 抗刷单、更稳定
   - 计算规则见经济系统文档§3.4.4

3. **价位吻合度**:
   - 公式: `max(0, 100 - 10 × |展示值 - 心理价|)%`
   - 示例:
     - 心理价10，展示值9 → 吻合度90%
     - 心理价10，展示值5 → 吻合度50%
     - 心理价10，展示值15 → 吻合度50%

4. **溢价/折价标签**:
   - 展示值 > 心理价+1 → "被低估 📈"
   - 差距≥3 → "被低估 📈 ⚠️" (红色叹号)
   - 展示值 < 心理价-1 → "被高估 📉"
   - 差距≥3 → "被高估 📉 ⚠️" (红色叹号)
   - 其他 → "符合预期 ✅"

**打赏分布展示**:
- 显示各档位打赏人数和百分比
- 标注已过滤的异常打赏（刷单检测）
- 帮助用户理解真实收益分布

**收益状态**:
- **评分阶段**: 💎 冻结中 (赛后结算)
- **赛后已结算**: ✅ 已到账 (120金币)

#### 3.3 数据时效性

**赛季中**:
- 实时更新打赏数据
- 每5分钟刷新一次截尾均值
- 显示"数据实时更新中"

**赛季结束**:
- 数据定格，仅供展示
- 显示"赛季已结束，仅供展示"
- 不再接受新的打赏

---

### 模块4: 操作按钮区 (右侧边栏)

#### 4.1 按钮布局

**位置**: 右侧边栏，收益统计卡片下方

**展示内容** (根据用户角色动态变化):

**场景A: 参赛者/评审团，未评分过**
```
┌──────────────────────────────────────┐
│  [开始评分] ⭐ (主要按钮)              │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  [下载游戏]                           │
│  [添加到收藏]                         │
│  [分享游戏]                           │
└──────────────────────────────────────┘
```

**场景B: 参赛者/评审团，已评分**
```
┌──────────────────────────────────────┐
│  [修改评分]                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  [下载游戏]                           │
│  [查看我的评分]                       │
│  [添加到收藏]                         │
│  [分享游戏]                           │
└──────────────────────────────────────┘
```

**场景C: 路人/未登录**
```
┌──────────────────────────────────────┐
│  [下载游戏]                           │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  [登录后可评分]                       │
│  [添加到收藏]                         │
│  [分享游戏]                           │
└──────────────────────────────────────┘
```

**场景D: 创作者本人**
```
┌──────────────────────────────────────┐
│  [编辑游戏信息]                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│  [查看收益详情]                       │
│  [下载游戏]                           │
│  [分享游戏]                           │
└──────────────────────────────────────┘
```

#### 4.2 按钮交互规则

**[开始评分]**:
- 点击 → 跳转到评分页面
- 携带游戏ID参数
- 评分阶段结束后禁用

**[修改评分]**:
- 点击 → 跳转到评分页面（预填充已有评分）
- 无次数限制
- 评分阶段结束后禁用

**[下载游戏]**:
- 点击 → 下载游戏文件
- 或跳转到外部链接（itch.io等）

**[查看我的评分]**:
- 点击 → 弹出模态框，显示用户的评分详情
- 包含打赏金额

**[编辑游戏信息]**:
- 仅创作者本人可见
- 点击 → 跳转到游戏编辑页面
- 评分阶段开始后不可修改（部分字段）

**[查看收益详情]**:
- 仅创作者本人可见
- 点击 → 弹出详细收益统计模态框
- 包含打赏记录列表

---

### 模块5: 游戏介绍区 (左侧主区域)

#### 5.1 游戏描述

**展示内容**:
```
┌─────────────────────────────────────┐
│ 📖 游戏介绍                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│ [游戏简介内容]                        │
│ 支持富文本、换行、链接                │
│                                      │
│ 🎮 游戏类型: 解谜                     │
│ ⏱️ 预计时长: 30分钟                  │
│ 🌍 语言: 中文、英文                   │
└─────────────────────────────────────┘
```

**数据来源**: 游戏提交流程中的描述字段

#### 5.2 游戏截图

**展示方式**: 横向滚动画廊

```
┌─────────────────────────────────────┐
│ 🖼️ 游戏截图                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│  [图1] [图2] [图3] [图4] [图5]       │
│    ◉    ○    ○    ○    ○           │
│                                      │
│  ← 点击左右箭头切换 →                │
│  ↓ 点击图片查看大图                   │
└─────────────────────────────────────┘
```

**交互规则**:
- 点击图片 → 模态框查看大图
- 左右箭头切换
- 底部圆点指示器
- 支持键盘左右键切换

**数量限制**: 最多10张截图（提交时限制）

#### 5.3 下载区域

**展示内容**:
```
┌─────────────────────────────────────┐
│ ⬇️️ 下载游戏                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│  [下载 Windows版本]  (125MB)         │
│  [下载 macOS版本]    (128MB)         │
│  [下载 Linux版本]    (120MB)         │
│                                      │
│  或访问外部链接:                      │
│  🔗 itch.io页面                      │
│  🔗 游戏官网                         │
└─────────────────────────────────────┘
```

**数据来源**: 游戏提交流程中的下载链接

---

### 模块6: 评分详情区 (左侧主区域)

#### 6.1 评分详情展开

**位置**: 游戏介绍区下方

**默认状态**: 收起，显示"查看评分详情"按钮

**展开后显示**:
```
┌─────────────────────────────────────┐
│ 📊 评分详情                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│ 【参赛者评分 vs 评审团评分对比】       │
│                                      │
│ 创新性:                              │
│   参赛者: 8.5/10 (排名#3)            │
│   评审团: 9.2/10 (排名#2)            │
│   ━━━━━━━━━━━━━━━━━━━━━━━━          │
│   [进度条可视化对比]                  │
│                                      │
│ 主题诠释:                            │
│   参赛者: 7.2/10 (排名#8)            │
│   评审团: 8.5/10 (排名#5)            │
│   ━━━━━━━━━━━━━━━━━━━━━━━━          │
│   [进度条可视化对比]                  │
│                                      │
│ ... (其他维度)                       │
│                                      │
│ 【评分分布】                          │
│                                      │
│ 10分: ████ 5人 (11%)                 │
│  9分: ████████ 10人 (22%)            │
│  8分: ████████████ 15人 (33%)        │
│  7分: ██████ 8人 (18%)               │
│  6分: ███ 4人 (9%)                   │
│  ≤5分: ██ 3人 (7%)                   │
│                                      │
│ 【优选游戏状态】                      │
│ ✅ 参赛者优选游戏                     │
│    (4个维度进入前10)                  │
│ ✅ 评审团优选游戏                     │
│    (5个维度进入前10)                  │
└─────────────────────────────────────┘
```

**数据可视化**:
- 使用进度条对比参赛者和评审团评分
- 使用柱状图显示评分分布
- 使用勾选图标显示优选游戏状态

#### 6.2 维度排名点击

**交互**:
- 点击维度排名 → 跳转到该维度的排行榜页面
- URL格式: `/leaderboard?dimension=innovation&group=participant`

---

### 模块7: 打赏记录区 (左侧主区域)

#### 7.1 打赏记录列表

**位置**: 评分详情区下方

**默认状态**: 收起，显示"查看打赏记录"按钮

**展开后显示**:
```
┌─────────────────────────────────────┐
│ 💰 打赏记录                          │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│ [最近打赏 - 仅显示最近20条]           │
│                                      │
│ 用户A        2金币  2分钟前          │
│ 用户B        1金币  5分钟前          │
│ 用户C        3金币  10分钟前         │
│ 用户D        1金币  15分钟前         │
│ ...                                  │
│                                      │
│ [查看全部打赏记录]                    │
└─────────────────────────────────────┘
```

**显示规则**:
- 默认按时间倒序
- 显示打赏者昵称、金额、时间
- 最多显示最近20条
- 点击"查看全部" → 跳转到完整打赏记录页面

**隐私保护**:
- 不显示打赏者完整ID
- 仅显示昵称（脱敏处理）
- 创作者本人可查看完整记录

**赛季结束后**:
- 显示"赛季已结束，打赏已关闭"
- 记录仅作为历史数据展示

---

### 模块8: 创作团队详情区 (右侧边栏)

#### 8.1 团队信息展示

**位置**: 右侧边栏底部

**展示内容**:

**个人参赛**:
```
┌──────────────────────────────────────┐
│ 👤 创作者                             │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│ [头像]                                │
│ 张三                                  │
│                                       │
│ 🏆 成就:                              │
│   - 精准预测家 (3个作品吻合度>90%)     │
│   - 第2赛季优选游戏创作者              │
│                                       │
│ 📮 联系方式:                          │
│   - 官网: example.com                 │
│   - Twitter: @zhangsan                │
│                                       │
│ [查看个人资料]                        │
└──────────────────────────────────────┘
```

**团队参赛**:
```
┌──────────────────────────────────────┐
│ 👥 创作团队                           │
│ ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                       │
│ [团队头像]                            │
│ 独立游戏工作室                        │
│ 成员: 3人                             │
│                                       │
│ 👑 队长: 张三                         │
│ 🤝 队员:                             │
│   - 李四 (程序)                       │
│   - 王五 (美术)                       │
│                                       │
│ 🏆 团队成就:                          │
│   - 第1赛季最佳团队游戏                │
│                                       │
│ [查看团队详情]                        │
└──────────────────────────────────────┘
```

**数据来源**:
- 用户资料
- 团队信息
- 成就系统

**点击交互**:
- 点击创作者/团队名 → 跳转到个人资料页
- 点击头像 → 跳转到个人资料页

---

## 模态框设计

### 模态框1: 评分提交确认

**触发**: 用户提交评分时

**展示内容**:
```
┌─────────────────────────────────────┐
│  确认提交评分？                       │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│  您即将对《游戏标题》提交以下评分:     │
│                                      │
│  创新性:    ★★★★☆ 8.5/10            │
│  主题诠释:  ★★★☆☆ 7.2/10            │
│  视觉效果:  ★★★★☆ 8.8/10            │
│  音乐音频:  ★★★★☆ 8.3/10            │
│  整体性:    ★★★★☆ 8.9/10            │
│  整活儿:    ★★★★☆ 8.6/10            │
│                                      │
│  打赏金额: 2金币                      │
│                                      │
│  ⚠️ 提交后可修改，但无法撤回           │
│                                      │
│  [取消]  [确认提交]                   │
└─────────────────────────────────────┘
```

**交互规则**:
- 必须二次确认才能提交
- 显示完整评分和打赏金额
- 提示可修改但无法撤回

---

### 模态框2: 查看我的评分

**触发**: 点击"查看我的评分"按钮

**展示内容**:
```
┌─────────────────────────────────────┐
│  我的评分                            │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│  您对《游戏标题》的评分:              │
│                                      │
│  创新性:    ★★★★☆ 8.5/10            │
│  主题诠释:  ★★★☆☆ 7.2/10            │
│  视觉效果:  ★★★★☆ 8.8/10            │
│  音乐音频:  ★★★★☆ 8.3/10            │
│  整体性:    ★★★★☆ 8.9/10            │
│  整活儿:    ★★★★☆ 8.6/10            │
│                                      │
│  打赏金额: 2金币                      │
│  评分时间: 2025-01-08 15:30          │
│                                      │
│  [修改评分]  [关闭]                   │
└─────────────────────────────────────┘
```

**交互规则**:
- 显示用户的完整评分
- 显示打赏金额和评分时间
- 点击"修改评分" → 跳转到评分页面

---

### 模态框3: 收益详情（创作者专用）

**触发**: 点击"查看收益详情"按钮（仅创作者本人）

**展示内容**:
```
┌─────────────────────────────────────┐
│  收益详情                            │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                      │
│  【心理价位分析】                      │
│  心理价位: 10金币                     │
│  实际收益(截尾均值): 15金币           │
│  价位吻合度: 50% ⚠️                   │
│  标签: 被低估 📈 ⚠️                   │
│                                      │
│  【打赏记录】                          │
│  总打赏人数: 50人                     │
│  打赏总额: 500金币                    │
│                                      │
│  最近记录:                            │
│  用户A        2金币  2分钟前          │
│  用户B        1金币  5分钟前          │
│  用户C        3金币  10分钟前         │
│  ...                                  │
│                                      │
│  [查看完整记录]  [关闭]               │
└─────────────────────────────────────┘
```

**权限控制**:
- 仅创作者本人可见
- 团队参赛：队长和副队长可查看
- 其他团队成员：不可查看

---

## 响应式设计

### 桌面端 (≥1024px)

- 左右布局: 左侧主区域70%，右侧边栏30%
- 封面图横幅显示
- 游戏截图横向滚动画廊

### 平板端 (768px - 1023px)

- 单列布局: 主区域和边栏垂直排列
- 封面图保持横幅
- 游戏截图横向滚动画廊
- 边栏卡片移到主内容下方

### 移动端 (<768px)

- 单列布局
- 封面图缩小
- 游戏截图改为单列滑动
- 评分统计卡片简化（折叠式）
- 收益统计卡片简化（折叠式）

---

## 权限控制矩阵

### 页面访问权限

| 操作 | 路人 | 路人玩家 | 参赛者 | 评审团 | 管理员 | 创作者本人 |
|-----|------|---------|--------|--------|--------|-----------|
| 查看页面 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 查看评分统计 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 查看收益统计 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ (详细) |
| 开始评分 | ❌ | ❌ | ✅ (非自评) | ✅ | ❌ | ❌ (自评) |
| 修改评分 | ❌ | ❌ | ✅ (非自评) | ✅ | ❌ | ❌ (自评) |
| 下载游戏 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| 编辑游戏信息 | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ |
| 查看收益详情 | ❌ | ❌ | ❌ | ❌ | ✅ | ✅ |
| 查看打赏记录 | ✅ (简化) | ✅ (简化) | ✅ (简化) | ✅ (简化) | ✅ (完整) | ✅ (完整) |

### 特殊权限说明

**自评限制**:
- 参赛者不能评价自己提交的游戏
- 团队参赛者不能评价团队的游戏
- 系统自动检测并阻止

**编辑权限**:
- 创作阶段: 创作者可编辑所有字段
- 评分阶段开始后: 部分字段不可编辑（游戏文件、链接等）
- 详细规则见游戏提交系统文档

---

## 数据加载策略

### 首屏加载

**必需数据**:
1. 游戏基本信息（标题、描述、截图）
2. 评分统计（6个维度的参赛者/评审团评分）
3. 收益统计（心理价位、截尾均值、吻合度、标签）
4. 创作团队信息

**加载顺序**:
1. 骨架屏占位
2. 加载游戏基本信息
3. 加载评分统计（异步）
4. 加载收益统计（异步）
5. 加载团队信息（异步）

### 延迟加载

**非首屏数据**:
1. 打赏记录列表（用户点击"查看打赏记录"时加载）
2. 评分详情展开（用户点击"查看评分详情"时加载）
3. 游戏截图大图（用户点击查看大图时加载）

### 缓存策略

**缓存内容**:
- 游戏基本信息: 缓存5分钟
- 评分统计: 缓存5分钟（赛季结束后永久缓存）
- 收益统计: 缓存5分钟（赛季结束后永久缓存）

**缓存失效**:
- 用户提交评分后 → 清除该游戏的评分统计缓存
- 用户打赏后 → 清除该游戏的收益统计缓存

---

## 性能优化

### 图片优化

- 封面图: 使用WebP格式，提供JPEG回退
- 游戏截图: 懒加载，使用placeholder占位
- 头像: 使用CDN加速

### 数据优化

- 评分统计: 使用预聚合表，避免实时计算
- 收益统计: 使用缓存，减少截尾均值计算次数
- 打赏记录: 分页加载，默认20条

### 渲染优化

- 虚拟滚动: 打赏记录列表使用虚拟滚动
- 防抖节流: 搜索和筛选操作使用防抖
- 骨架屏: 首屏加载时显示骨架屏

---

## SEO优化

### Meta标签

```html
<title>游戏标题 - 惊蛰计划游戏jam</title>
<meta name="description" content="游戏简介内容..." />
<meta property="og:title" content="游戏标题" />
<meta property="og:description" content="游戏简介..." />
<meta property="og:image" content="游戏封面图URL" />
<meta property="og:type" content="website" />
```

### 结构化数据

```json
{
  "@context": "https://schema.org",
  "@type": "SoftwareApplication",
  "name": "游戏标题",
  "description": "游戏简介...",
  "applicationCategory": "Game",
  "operatingSystem": "Windows, macOS, Linux",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "8.5",
    "ratingCount": "45"
  }
}
```

---

## 可访问性

### 键盘导航

- Tab键: 按逻辑顺序遍历所有可交互元素
- Enter键: 激活按钮和链接
- Esc键: 关闭模态框
- 左右箭头: 切换游戏截图

### 屏幕阅读器

- 使用语义化HTML标签
- 提供alt文本描述图片
- 使用ARIA标签增强交互元素

---

## 错误处理

### 游戏不存在

**显示**: 404页面
```
┌─────────────────────────────────────┐
│  🚫 游戏不存在                       │
│                                      │
│  该游戏可能已被删除或链接错误         │
│                                      │
│  [返回首页]  [浏览游戏列表]           │
└─────────────────────────────────────┘
```

### 评分数据加载失败

**显示**: 错误提示
```
┌─────────────────────────────────────┐
│  ⚠️ 评分数据加载失败                 │
│                                      │
│  请刷新页面重试                       │
│                                      │
│  [刷新页面]                          │
└─────────────────────────────────────┘
```

### 评分阶段未开始

**隐藏**: "开始评分"按钮
**显示**: 提示信息
```
┌─────────────────────────────────────┐
│  📅 评分阶段尚未开始                 │
│                                      │
│  评分将于 2025-01-15 开始            │
└─────────────────────────────────────┘
```

### 评分阶段已结束

**禁用**: "开始评分"、"修改评分"按钮
**显示**: 提示信息
```
┌─────────────────────────────────────┐
│  ✅ 评分阶段已结束                   │
│                                      │
│  最终排名已公布                      │
└─────────────────────────────────────┘
```

---

## 测试要点

### 功能测试

- [ ] 不同用户角色看到的页面内容正确
- [ ] 评分数据正确显示（参赛者/评审团）
- [ ] 收益统计正确计算（截尾均值、吻合度）
- [ ] AI维度正确标记为"N/A"
- [ ] 未达门槛的评分正确显示
- [ ] 打赏记录正确加载和分页
- [ ] 所有按钮和链接功能正常

### 权限测试

- [ ] 参赛者不能评价自己的游戏
- [ ] 团队成员不能评价团队的游戏
- [ ] 路人玩家不能评分
- [ ] 创作者本人可查看收益详情
- [ ] 评审团可评分所有游戏

### 响应式测试

- [ ] 桌面端布局正确
- [ ] 平板端布局正确
- [ ] 移动端布局正确
- [ ] 横竖屏切换正常

### 性能测试

- [ ] 首屏加载时间 < 2秒
- [ ] 图片懒加载正常工作
- [ ] 缓存策略有效
- [ ] 高并发下页面稳定

---

## 相关文档

- [评分系统设计方案_v2.0.md](../评分系统设计方案_v1.0.md)
- [经济系统设计文档_v1.2.md](../惊蛰计划-经济系统设计文档_v1.0.md)
- [游戏提交系统设计文档_v1.1.md](../game-submission-system-requirements-and-design_2025-01-08.md)
- [评分页面设计文档](./评分页面设计_v1.0.md) (待创建)
- [个人资料页设计文档](./个人资料页设计_v1.0.md) (待创建)

---

**创建者**: Claude (老黑)
**创建日期**: 2025-01-10
**状态**: ✅ 初稿完成，待审查
**下一步**: 设计评分页面
