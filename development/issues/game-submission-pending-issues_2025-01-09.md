# 游戏提交系统待确认问题清单

> **基于两次全面审查的问题汇总**
> 创建日期: 2025-01-09
> 问题总数: 12个（P0: 4个, P1: 4个, P2: 2个, P3: 3个）
> 状态: ⏳ 待确认

---

## 📋 优先级说明

- **P0**: 立即修复 - 需求与设计严重不一致，必须修复
- **P1**: 高优先级 - 影响用户体验或系统集成
- **P2**: 中优先级 - 边界情况处理
- **P3**: 低优先级 - 用户体验优化（可选）

---

## 🔴 P0优先级 - 立即修复 (4个)

### ❌ 问题1: 截图数量限制不一致

**问题描述**:
- 需求文档: "至少1张,最多10张"
- 设计文档: "最多5张截图"

**影响**: 开发实现时产生歧义，可能导致需求验收不合格

**建议**:
- 选项A: 统一为5张（精简，减少存储成本）
- 选项B: 统一为10张（全面，允许更多展示）
- 推荐: 选项A

**决策问题**:
- [ ] 截图数量限制选择5张还是10张?

**相关文档**:
- 需求文档 1.5节: 游戏截图
- 设计文档 步骤4: 媒体资源
- 审查报告: E1

---

### ❌ 问题2: "未完成作品"选项完全缺失

**问题描述**:
- 需求文档5.2节: "未完成作品选项" - 有完整定义
- 设计文档: 完全缺失此选项

**需求要求**:
- 复选框: ☑ 标记为"未完成作品"
- 选择后标注"未完成"，不参与排名
- 仍可被下载、评论、点赞

**影响**:
- 用户无法标记未完成作品
- 未完成的作品也会参与排名，影响评分公平性

**建议补充**:
```markdown
**步骤5.5: 未完成作品选项 (新增)**

**选项说明**:
- 复选框: ☐ 标记为"未完成作品"

**选择后的影响**:
1. 游戏列表页标注"未完成"标签
2. 不参与任何维度的评分和排名
3. 仍然可以被下载、评论、点赞
4. 作者仍可以给其他游戏评分
```

**决策问题**:
- [ ] 是否需要"未完成作品"选项? (建议需要)
- [ ] 应该放在哪个步骤? (建议放在步骤7提交确认之前)
- [ ] 未完成作品是否可以撤回后改为完成? (建议允许)

**相关文档**:
- 需求文档 5.2节: 未完成作品选项
- 审查报告: NE1

---

### ❌ 问题3: "游戏类型Tag"步骤缺失

**问题描述**:
- 需求文档2.1节: "游戏类型Tag (多选)" - 要求必填
- 设计文档的7步流程中: 完全缺失此步骤

**需求要求**:
- 必填，最少1个，最多5个
- 15个固定选项: 动作、冒险、休闲、解谜、角色扮演、射击、策略、模拟、体育、竞速、恐怖、生存、教育、音乐、视觉小说
- 支持搜索过滤、热门Tag排序

**影响**:
- 用户无法选择游戏类型
- 数据库`game_types`表无数据来源
- 游戏无法按类型分类和筛选

**建议补充**:
```markdown
**步骤3.5: 游戏类型选择 (新增)**

**位置**: 步骤3(游戏正文)之后，步骤4(媒体资源)之前

**字段要求**:
- 必填，最少1个，最多5个
- 支持搜索和过滤

**验证规则**:
- 少于1个: 提示"请至少选择1个游戏类型"
- 超过5个: 禁止选择更多，提示"最多选择5个游戏类型"
```

**决策问题**:
- [ ] 游戏类型Tag是否必填? (建议必填)
- [ ] 最多选择几个? (建议5个)
- [ ] 是否允许自定义Tag? (建议不允许，第一届仅限固定选项)

**相关文档**:
- 需求文档 2.1节: 游戏类型Tag
- 设计文档 §7.3: game_types表
- 审查报告: NE2

---

### ❌ 问题4: "AI使用披露"步骤缺失

**问题描述**:
- 需求文档第三部分: "AI使用披露" (3.1-3.3) - 有完整流程
- 设计文档的7步流程中: 完全缺失此步骤

**需求要求**:
- AI工具使用声明 (单选: 是/否)
- AI使用详情 (条件显示，必填)
- AI使用影响说明

**影响**:
- 无法收集用户的AI使用情况
- 用户不知道何时应该退出评分维度
- 可能导致评分不公平

**建议补充**:
```markdown
**步骤5.5: AI使用披露 (新增)**

**位置**: 步骤5(链接与平台)之后，步骤6(评分维度退出)之前

**AI工具使用声明** (单选，必填):
- ○ 否,我没有使用生成式AI工具
- ○ 是,我在创作中使用了生成式AI工具

**选择"是"后显示AI使用详情**:
- 文本域: 请详细说明AI工具、内容类型、占比
- 最多500字符
```

**决策问题**:
- [ ] 是否需要"AI使用披露"步骤? (建议需要)
- [ ] AI使用详情是否必填? (建议条件必填)
- [ ] AI使用详情是否显示在游戏详情页? (建议不显示，仅管理员可见)

**相关文档**:
- 需求文档 第三部分: AI使用披露
- 审查报告: E2 / NE3

---

## ⚠️ P1优先级 - 高优先级 (4个)

### 问题5: 源码链接提交后无法修改

**问题描述**:
- 用户填错源码链接后无法更正
- 设计文档5.1和5.2中未包含源码链接的更新规则

**场景**:
- 个人赛道提交游戏时选择公开源码
- 用户填写了错误的源码链接(如拼写错误)
- 提交后发现错误，但无法修改源码链接

**影响**:
- 用户填错源码链接后无法更正
- 举报机制存在，但用户更正链接的便捷路径缺失

**建议补充**:
```markdown
**源码链接更新规则**:
- ✅ 评分期开始前: 允许随时修改
- ❌ 评分期开始后: 仅允许修正(需管理员审核)
- 理由: 类似下载链接，源码链接也可能失效或填错
```

**决策问题**:
- [ ] 源码链接是否允许评分期前修改? (建议允许)
- [ ] 源码链接是否允许评分期后修正? (建议允许，需审核)

**相关文档**:
- 设计文档 §5: 版本管理机制
- 审查报告: E3

---

### 问题6: Draft与已提交游戏的UI混淆风险

**问题描述**:
- 用户可能混淆哪个是已提交的，哪个是草稿
- 设计文档未明确"我的游戏"页面的UI设计

**场景**:
- 用户有1个已提交的游戏《A》
- 用户创建新Draft《B》
- 用户回到"我的游戏"页面
- 问题: 用户可能混淆哪个是已提交的，哪个是草稿

**影响**:
- 用户可能误删已提交的游戏
- 用户可能重复提交相同游戏
- 用户不清楚哪些游戏可以继续编辑

**建议补充**:
```markdown
**"我的游戏"页面UI设计**:

**状态标签**:
- 🟢 Published "已提交" - 不可编辑，可撤回
- 🟡 Draft "草稿" - 可继续编辑
- 🔴 Withdrawn "已撤回" - 可重新提交

**卡片显示**:
[🟢 已提交] 《游戏标题》 提交时间: 2025-01-08 [查看] [撤回] [删除]
[🟡 草稿] 《草稿标题》 最后编辑: 2小时前 [继续编辑] [删除草稿]
```

**决策问题**:
- [ ] "我的游戏"页面是否需要状态标签? (建议需要)
- [ ] 是否需要不同的操作按钮? (建议需要)

**相关文档**:
- 审查报告: E4

---

### 问题7: 游戏撤回后的作者快照更新逻辑未定义

**问题描述**:
- 撤回后重新提交，作者列表是保留还是更新?

**场景**:
- 3人团队提交游戏 → 记录作者快照[A,B,C]
- 撤回游戏 → 成员C退出团队
- 重新提交游戏 → 问题: 新的作者快照是[A,B,C]还是[A,B]?

**影响**:
- 如果不更新快照 → 成员C已退出但仍显示为作者(不公平)
- 如果更新快照 → 用户可能通过"撤回-换人-重新提交"滥用

**建议补充**:
```markdown
**撤回后的作者快照处理**:

**选项A: 撤回后解锁，重新提交时更新快照** (推荐)
- 优点: 支持成员变更，灵活
- 缺点: 可能被滥用
- 防滥用措施: 限制撤回次数(最多3次)、记录撤回历史

**选项B: 撤回后锁定，禁止修改作者**
- 优点: 简单，防滥用
- 缺点: 不够灵活

**推荐: 选项A + 防滥用措施**
```

**决策问题**:
- [ ] 撤回后是否允许更新作者快照? (建议允许)
- [ ] 是否限制撤回次数? (建议最多3次)
- [ ] 是否显示作者变更历史? (建议显示)

**相关文档**:
- 审查报告: E6

---

### 问题8: 赛季结束时的批量处理逻辑未定义

**问题描述**:
- 赛季结束时需要批量移除硬核玩家标记、清除Draft草稿
- 但没有说明如何批量处理

**场景**:
- 赛季结束时需要处理大量数据
- 硬核玩家标记需要批量移除
- Draft草稿需要批量清除
- 游戏状态需要更新

**影响**:
- 批量处理可能影响系统性能
- 未定义批量处理可能导致系统负载过高

**建议补充**:
```markdown
**赛季结束处理任务**:

**1. 硬核玩家标记移除**:
- 批量移除硬核玩家标记
- 记录历史到user_hardcore_history表

**2. Draft草稿清除**:
- 批量删除Draft

**3. 游戏状态更新**:
- 批量更新游戏状态为"past_season"

**技术实现**:
- 使用后台任务队列 (如Celery、Bull)
- 分批处理，每批100条记录
- 处理完成后发送通知给管理员
```

**决策问题**:
- [ ] 赛季结束处理是否需要自动化? (建议需要)
- [ ] 是否需要手动触发? (建议手动触发+自动备份)

**相关文档**:
- 审查报告: NE4

---

## ⚠️ P2优先级 - 中优先级 (2个)

### 问题9: 排他锁接管机制的UI提示不清晰

**问题描述**:
- 弹窗没有说明30秒后自动交接的规则

**场景**:
- 副队长点击"我来改"
- 队长收到弹窗: "副队长B申请接管"
- 问题: 弹窗没有说明如果队长不操作会发生什么

**建议补充**:
```markdown
**接管弹窗UI设计**:

┌─────────────────────────────────────┐
│  副队长B申请接管编辑权               │
│                                     │
│  副队长B希望编辑游戏草稿，是否同意?   │
│                                     │
│  ⚠️ 30秒内无响应将自动交接           │
│                                     │
│  [拒绝] [同意]                      │
└─────────────────────────────────────┘
```

**决策问题**:
- [ ] 是否在弹窗中明确告知30秒规则? (建议告知)
- [ ] 是否提供"拒绝后禁止X分钟内再次申请"的限制? (建议5分钟)

**相关文档**:
- 设计文档 §3.2: 排他锁机制
- 审查报告: E5

---

### 问题10: 游戏类型与评分维度的关系未定义

**问题描述**:
- 用户选择"音乐"游戏类型，但退出了"音乐音频"评分维度，这是否合理?

**场景**:
- 用户选择"音乐"游戏类型
- 但退出"音乐音频"维度评分
- 问题: 这是否合理?

**建议补充**:
```markdown
**游戏类型与评分维度的关联**:

**默认规则**:
- 不强制关联，用户可自由选择退出哪些维度
- 但提供智能提示

**智能提示**:
如果用户选择"音乐"游戏类型，并退出"音乐音频"维度:
系统提示: "⚠️ 您选择了'音乐'游戏类型，但退出了'音乐音频'维度。这是否符合预期?"
```

**决策问题**:
- [ ] 是否需要游戏类型与评分维度的关联检查? (建议不需要，仅提示)

**相关文档**:
- 审查报告: NE5

---

## 💡 P3优先级 - 可选优化 (3个)

### 优化建议1: 添加"草稿预览"功能

**建议**: 在Draft编辑页面添加"预览"按钮，预览游戏详情页的最终效果

**优先级**: P3 (低优先级)

**相关文档**:
- 审查报告: O1

---

### 优化建议2: 添加"提交前检查清单"自动验证

**建议**: 系统自动验证关键项，未通过的项高亮显示

**优先级**: P3 (低优先级)

**相关文档**:
- 审查报告: O2

---

### 优化建议3: 添加"源码链接"二次确认弹窗

**建议**: 填写源码链接后弹窗确认，显示链接预览

**优先级**: P3 (低优先级)

**相关文档**:
- 审查报告: O3

---

## ✅ 已确认约束 (1个)

### EC1: 硬核玩家赛道切换规则 ✅

**约束内容**:
- ⚠️ 身份绑定用户: 一旦获得，该用户成为硬核玩家
- ⚠️ 永久保留: 不可放弃身份
- ⚠️ 不可切换赛道: 硬核玩家永远以个人赛道参赛
- ⚠️ 赛季结束处理: 移除"硬核玩家"标记，但保留"开源贡献者"成就
- 理由: 防止经济系统失衡（硬核玩家拥有推荐位购买特权）

**状态**: ✅ 已确认并同步到所有相关文档

**相关文档**:
- [硬核玩家赛道约束分析](../analysis/hardcore-player-track-switch-constraint_2025-01-09.md)
- 设计文档v1.0 §4.2, §6.2, §11.3
- 关键名词索引v1.5

---

## 📊 问题统计

| 优先级 | 数量 | 预估修复时间 |
|-------|------|------------|
| **P0** | 4个 | 2-3小时 |
| **P1** | 4个 | 3-4小时 |
| **P2** | 2个 | 1-2小时 |
| **P3** | 3个 | 2-3小时（可选） |
| **已确认** | 1个 | ✅ 完成 |
| **总计** | 14个 | 6-9小时（必须完成） |

---

## 🎯 建议行动计划

### 第一阶段: 修复P0问题 (2-3小时)

**目标**: 解决需求与设计的严重不一致

**任务清单**:
1. 确认截图数量限制（问题1）
2. 补充"未完成作品"选项到设计文档（问题2）
3. 补充"游戏类型Tag"步骤到设计文档（问题3）
4. 补充"AI使用披露"步骤到设计文档（问题4）

**产出物**:
- 设计文档v1.1

---

### 第二阶段: 补充P1问题 (3-4小时)

**目标**: 解决高优先级边界场景

**任务清单**:
1. 设计源码链接修改规则（问题5）
2. 设计"我的游戏"页面UI（问题6）
3. 定义撤回后作者快照逻辑（问题7）
4. 设计赛季结束批量处理（问题8）

**产出物**:
- 设计文档v1.2

---

### 第三阶段: 完善P2问题 (1-2小时)

**目标**: 处理中优先级边界情况

**任务清单**:
1. 完善排他锁接管提示（问题9）
2. 定义游戏类型与评分维度关系（问题10）

**产出物**:
- 设计文档v1.3

---

### 第四阶段: 优化P3问题 (可选，2-3小时)

**目标**: 用户体验提升

**任务清单**:
1. 添加草稿预览功能
2. 实现提交前自动验证
3. 源码链接二次确认

**产出物**:
- 设计文档v1.4

---

## 📄 相关文档

1. **第一次审查报告**: [game-submission-edge-cases_2025-01-09.md](../analysis/game-submission-edge-cases_2025-01-09.md)
2. **第二次审查报告**: [game-submission-additional-issues_2025-01-09.md](../analysis/game-submission-additional-issues_2025-01-09.md)
3. **完整审查总结**: [game-submission-complete-review-summary_2025-01-09.md](../analysis/game-submission-complete-review-summary_2025-01-09.md)
4. **设计文档v1.0**: [惊蛰计划-游戏提交系统设计文档_v1.0.md](../../docs/design/惊蛰计划-游戏提交系统设计文档_v1.0.md)
5. **需求文档v2.0**: [game-submission-requirements-v2.md](./game-submission-requirements-v2.md)

---

**创建日期**: 2025-01-09
**维护人**: 老黑(Claude)
**状态**: ⏳ 待确认
