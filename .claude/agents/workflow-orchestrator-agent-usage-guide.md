# workflow-orchestrator-agent 使用指南

> **Agent名称**: workflow-orchestrator-agent
> **版本**: v1.0
> **创建时间**: 2025-01-11
> **用途**: 智能协调所有Agent,管理项目工作流

---

## 🎯 核心功能

workflow-orchestrator-agent 是项目的中心协调者,能智能分析项目状态,推荐下一步操作,并自动协调所有Agent。

### 主要能力

- 📊 **智能状态分析**: 全面分析项目当前状态和进度
- 🎯 **上下文感知推荐**: 基于项目状态推荐最佳下一步操作
- 🤖 **自动Agent协调**: 自动启动和协调多个Agent
- 📝 **工作日报生成**: 自动生成每日工作总结
- 🔄 **无缝工作流**: 实现一键启动的自动化工作流

---

## 🚀 快速开始

### 基本用法

**方式1: 开始一天的工作**
```
"开始今天的工作"
"今天做什么"
"开始工作"
"start work"
```

**方式2: 继续项目**
```
"继续项目"
"下一步做什么"
"what's next"
```

**方式3: 生成工作日报**
```
"生成工作日报"
"今天完成了什么"
"总结今天的工作"
"daily report"
```

### 使用场景

```yaml
每天开始工作时:
  → "开始今天的工作"
  → Agent分析项目状态
  → 推荐今日任务
  → 自动启动合适的Agent

完成一个模块后:
  → Agent自动识别
  → 推荐下一步验证
  → 协调多个Agent完成检查

每天结束时:
  → "生成工作日报"
  → Agent总结今日完成
  → 规划明日任务
```

---

## 📊 状态分析详解

### 分析维度

**维度1: 问题讨论状态**
```yaml
检查内容:
  - 所有问题清单的完成度
  - 当前讨论进度
  - 未回答的问题数量

输出示例:
  问题讨论: 75% (15/20个问题)
  进行中: 游戏提交系统 (29/29问题,100%)
  待开始: 经济系统 (0/50问题)
```

**维度2: 设计文档状态**
```yaml
检查内容:
  - 设计文档完整性
  - 设计审核状态
  - 文档同步状态

输出示例:
  设计文档: 60% (3/5个模块)
  已完成: 评分系统、排名系统、团队系统
  待审核: 游戏提交系统
```

**维度3: 代码实现状态**
```yaml
检查内容:
  - 代码文件完成度
  - 代码审核状态
  - 测试覆盖情况

输出示例:
  代码实现: 20% (1/5个模块)
  已完成: 评分系统
  进行中: 游戏提交系统
```

**维度4: 阻塞问题**
```yaml
检查内容:
  - 阻塞当前进度的问题
  - 依赖缺失
  - 资源冲突

输出示例:
  阻塞问题: 0个 ✅
  或
  阻塞问题: 2个
  - 经济系统设计未完成
  - API设计不明确
```

### 状态报告示例

```markdown
# 📊 项目状态分析

**分析时间**: 2025-01-11 00:20
**项目**: 惊蛰计划
**当前阶段**: 设计讨论

---

## 📍 当前状态

### 整体进度

**完成度**: 45% (9/20个模块)

**已完成的模块**:
- ✅ 评分系统设计 (100%)
- ✅ 排名系统设计 (100%)
- ✅ 团队系统设计 (100%)

**进行中的模块**:
- 🔄 游戏提交系统设计 (85%)
  - 问题确认: 29/29 (100%)
  - 设计文档: 完成
  - 等待: 设计审核

**待开始的模块**:
- ⏳ 经济系统设计 (0%)
- ⏳ 通知系统设计 (0%)

---

## 🎯 项目进度统计

**问题讨论**: 75% (15/20个问题)
**设计文档**: 60% (3/5个模块)
**代码实现**: 20% (1/5个模块)

---

## 🚧 阻塞问题

**无阻塞问题** ✅
```

---

## 🎯 智能推荐系统

### 推荐逻辑

```yaml
设计讨论阶段:
  条件: 有未回答的问题
  主要推荐: discussion-agent 继续讨论
  备选方案: design-audit-agent 提前审核

设计审核阶段:
  条件: 问题已确认,设计待审核
  主要推荐: design-audit-agent 审核设计
  备选方案: doc-sync-agent 同步文档

开发阶段:
  条件: 正在开发代码
  主要推荐: code-review-agent 审核代码
  备选方案: 继续开发功能

发布准备阶段:
  条件: 开发完成,准备发布
  主要推荐: completion-check-agent 验证
  备选方案: 生成发布说明
```

### 推荐示例

```markdown
## 🎯 推荐的下一步操作

### 🚀 主要推荐

**启动 discussion-agent** - 继续讨论问题

**理由**:
- 游戏提交系统的问题已100%确认
- 建议先进行设计审核
- 然后开始经济系统的问题讨论

**预计时间**: 30分钟

---

### 📋 备选方案

**方案1**: 使用 design-audit-agent 审核游戏提交系统设计
- 优点: 提前发现设计问题
- 预计时间: 15分钟

**方案2**: 使用 completion-check-agent 验证完整性
- 优点: 确保可以进入下一阶段
- 预计时间: 10分钟

**方案3**: 开始经济系统设计
- 优点: 推进新模块
- 预计时间: 2小时

---

## 📝 今日任务建议

### 优先级 P0 (必须完成)

1. 游戏提交系统设计审核
   - 预计时间: 15分钟
   - 相关模块: 游戏提交系统

### 优先级 P1 (建议完成)

1. 经济系统问题提取
   - 预计时间: 30分钟

### 优先级 P2 (可选)

1. 团队系统文档同步
   - 预计时间: 10分钟

---

**你想执行哪个方案?**
- 输入 "1" / "主要" / "primary" → 启动 discussion-agent
- 输入 "2" / "方案1" → 启动 design-audit-agent
- 输入 "3" / "方案2" → 启动 completion-check-agent
- 输入 "4" / "方案3" → 开始新模块设计
- 输入自定义指令
```

---

## 🤖 Agent协调机制

### 自动协调场景

**场景1: 设计阶段完成**
```yaml
触发: 所有问题已确认
自动流程:
  1. workflow-orchestrator-agent 识别状态
  2. 自动调用 completion-check-agent 验证
  3. 验证通过后调用 design-audit-agent 审核
  4. 审核通过后调用 doc-sync-agent 同步
  5. 提示可以进入开发阶段

用户操作: 只需说"完成这个模块"
```

**场景2: 开发阶段完成**
```yaml
触发: 代码开发完成
自动流程:
  1. workflow-orchestrator-agent 识别状态
  2. 自动调用 code-review-agent 审核
  3. 审核通过后调用 completion-check-agent 验证
  4. 验证通过后提示可以部署

用户操作: 只需说"代码完成了"
```

**场景3: 每日工作流**
```yaml
触发: "开始今天的工作"
自动流程:
  1. workflow-orchestrator-agent 分析状态
  2. 推荐今日任务列表
  3. 询问用户选择
  4. 自动启动相应的Agent
  5. 监控执行进度
  6. 完成后询问是否继续

用户操作: 选择方案,Agent自动执行
```

### 协调流程图

```yaml
用户输入
  ↓
workflow-orchestrator-agent
  ↓ 分析状态
  ↓ 推荐操作
  ↓
用户确认 (可选)
  ↓
启动目标Agent
  ↓ 执行任务
返回结果
  ↓
workflow-orchestrator-agent
  ↓ 更新状态
  ↓ 推荐下一步
  ↓
用户选择: 继续 / 结束
```

---

## 📝 工作日报生成

### 日报内容

```markdown
# 📋 工作日报 - 2025-01-11

**项目**: 惊蛰计划
**报告时间**: 18:00

---

## ✅ 今日完成

### 完成的任务

1. **游戏提交系统设计** (2小时)
   - ✅ 完成29个问题的讨论
   - ✅ 创建设计文档 v1.0
   - ✅ 通过设计审核

2. **代码审核Agent创建** (20分钟)
   - ✅ 完成设计方案
   - ✅ 实现Agent
   - ✅ 创建使用指南

3. **文档同步** (10分钟)
   - ✅ 同步问题决策到设计文档
   - ✅ 更新版本号

**今日总计**: 2.5小时

---

## 📊 进度更新

### 项目整体进度

- **之前进度**: 40%
- **当前进度**: 45%
- **提升**: +5%

### 模块进度

| 模块 | 状态 | 进度 |
|------|------|------|
| 评分系统 | ✅ 完成 | 100% |
| 排名系统 | ✅ 完成 | 100% |
| 团队系统 | ✅ 完成 | 100% |
| 游戏提交 | ✅ 完成 | 100% |
| 经济系统 | 🔄 进行中 | 0% → 15% |
| 通知系统 | ⏳ 未开始 | 0% |

---

## 🎯 明日计划

### 优先任务

1. **经济系统设计** (2小时)
   - 提取设计问题
   - 开始问题讨论
   - 目标: 完成50%问题

2. **通知系统设计** (1小时)
   - 分析需求
   - 创建问题清单

### 备选任务

- 前端框架搭建
- API设计

---

## 💡 经验总结

### 做得好的地方

1. discussion-agent 大大提升了问题讨论效率
2. design-audit-agent 提前发现了潜在问题
3. 自动化工具节省了大量时间

### 可以改进的地方

1. 文档同步可以更及时
2. 可以增加更多自动化检查

---

## 📈 数据统计

**今日工作时间**: 2.5小时

**时间分配**:
- 设计讨论: 60%
- Agent开发: 25%
- 文档工作: 15%

**完成项数**: 3项

**Agent使用次数**:
- discussion-agent: 5次
- design-audit-agent: 1次
- doc-sync-agent: 1次

---

**报告生成**: workflow-orchestrator-agent
**下次报告**: 明天此时
```

### 生成时机

```yaml
每天结束时:
  "生成工作日报"
  "今天完成了什么"
  "总结今天"

每周结束时:
  "生成本周报告"
  "总结本周工作"

项目里程碑:
  自动生成里程碑报告
```

---

## 💡 使用技巧

### 技巧1: 每日工作流

```yaml
早上开始:
  "开始今天的工作"
  → Agent推荐今日任务
  → 选择任务
  → Agent自动启动相应Agent

工作中:
  完成一个任务后
  → Agent自动推荐下一个
  → 继续或暂停

晚上结束:
  "生成工作日报"
  → Agent总结今日
  → 规划明日
```

### 技巧2: 一键完成模块

```yaml
"完成这个模块"
  → workflow-orchestrator-agent
  → 自动识别需要完成的所有步骤
  → 依次调用相应Agent
  → 完成后提示可以进入下一阶段

用户只需:
  1. 说"完成这个模块"
  2. 在关键节点确认
  3. 等待完成
```

### 技巧3: 暂停和恢复

```yaml
工作中需要暂停:
  "暂停"
  → Agent保存当前状态
  → 生成进度报告

下次继续:
  "继续工作"
  → Agent恢复之前的状态
  → 推荐继续之前的任务
```

---

## ⚠️ 注意事项

### 何时使用

```yaml
✅ 推荐使用:
  - 每天开始工作时
  - 不确定下一步做什么
  - 完成模块需要协调多个Agent
  - 需要生成工作日报

❌ 不推荐使用:
  - 明确知道要做什么(直接调用相应Agent)
  - 只想快速查看进度(用 /check-progress)
```

### 理解推荐

```yaml
推荐基于:
  - 项目当前状态
  - 工作流程最佳实践
  - 任务优先级

你有最终决定权:
  - 可以接受推荐
  - 可以选择备选方案
  - 可以自定义操作
```

---

## 🔄 与其他Agent的关系

### 中心协调者

```yaml
workflow-orchestrator-agent (中心)
  ↓ 调用和协调
  ├─ discussion-agent
  ├─ design-audit-agent
  ├─ completion-check-agent
  ├─ doc-sync-agent
  ├─ code-review-agent
  └─ code-generation-agent

反馈循环:
  各Agent执行结果
  → 返回给workflow-orchestrator-agent
  → 更新项目状态
  → 推荐下一步
```

### 典型工作流

```yaml
设计阶段完整流程:
  用户: "开始今天的工作"
  → workflow-orchestrator-agent
  → discussion-agent (讨论问题)
  → design-audit-agent (审核设计)
  → doc-sync-agent (同步文档)
  → completion-check-agent (验证)

开发阶段完整流程:
  用户: "开始今天的工作"
  → workflow-orchestrator-agent
  → code-generation-agent (生成代码)
  → code-review-agent (审核代码)
  → completion-check-agent (验证)
```

---

## 📞 常见问题

### Q1: 和直接调用其他Agent有什么区别?

**A**:
- **直接调用**: 你知道要做什么,直接调用特定Agent
- **workflow-orchestrator-agent**: 不确定做什么,让Agent分析并推荐

**举例**:
- 直接调用: "审核这段代码" → code-review-agent
- 协调调用: "今天做什么" → workflow-orchestrator-agent → 推荐并启动相应Agent

### Q2: 会自动执行操作吗?

**A**: 默认不会,会推荐并等待确认:
1. 分析状态
2. 推荐操作
3. 等待你确认
4. 你确认后才执行

**但你可以授权自动执行**:
- "完成这个模块" → 自动执行所有步骤
- "自动开始今天的工作" → 自动推荐并执行

### Q3: 如何学习我的偏好?

**A**:
- 记录你常选择的方案
- 记录你的工作时间偏好
- 记录你常用的Agent组合
- 逐渐调整推荐策略

**未来版本会有更多学习能力**

### Q4: 能管理多个项目吗?

**A**:
- **v1.0**: 支持单项目管理
- **v1.1+**: 会支持多项目管理

### Q5: 如何自定义工作流?

**A**:
- 当前版本: 通过选择不同方案自定义
- 未来版本: 会支持配置文件自定义工作流

---

## 🎓 最佳实践

### 实践1: 每日启动

```yaml
每天早上:
  1. "开始今天的工作"
  2. 查看推荐的任务
  3. 选择要执行的任务
  4. Agent自动启动并执行
  5. 完成后继续下一个
```

### 实践2: 模块完成

```yaml
完成一个模块时:
  1. 所有问题讨论完成
  2. "完成这个模块"
  3. Agent自动协调所有验证步骤
  4. 完成后提示可以进入下一阶段
```

### 实践3: 定期总结

```yaml
每天结束:
  "生成工作日报"
  → 查看今日完成
  → 了解进度提升
  → 规划明日任务

每周结束:
  "生成本周报告"
  → 查看本周成果
  → 总结经验教训
  → 规划下周目标
```

---

## 📈 效果对比

### 使用前

```yaml
问题1: 不知道做什么
  - 需要手动检查进度
  - 不确定下一步该做什么
  - 浪费时间决策

问题2: 工作流不连贯
  - 需要手动调用多个Agent
  - 容易忘记某些步骤
  - 流程容易中断

问题3: 缺少总结
  - 不知道每天完成了什么
  - 进度不清晰
  - 难以规划未来
```

### 使用后

```yaml
解决1: 智能推荐
  - 自动分析项目状态
  - 推荐最佳下一步
  - 减少决策时间

解决2: 无缝工作流
  - 自动协调多个Agent
  - 不会遗漏步骤
  - 流程连贯流畅

解决3: 自动总结
  - 每日工作日报
  - 清晰的进度追踪
  - 便于规划未来
```

---

## 🔄 版本历史

### v1.0 (2025-01-11)

**新增**:
- 智能状态分析
- 上下文感知推荐
- Agent协调机制
- 工作日报生成
- 一键启动工作流

**特点**:
- 中心协调者
- 减少决策疲劳
- 提升工作效率

---

**使用指南创建时间**: 2025-01-11
**维护人**: 老黑(Claude)
**Agent状态**: ✅ 已完成并部署
**版本**: v1.0
