# code-review-agent è¯¦ç»†è®¾è®¡æ–¹æ¡ˆ

> **ä¼˜å…ˆçº§**: ğŸŸ¡ P1 (é«˜)
> **ä»·å€¼**: â­â­â­â­
> **å·¥ä½œé‡**: 2-3å°æ—¶
> **çŠ¶æ€**: ğŸ“ è®¾è®¡ä¸­

---

## 1. Agentæ¦‚è¿°

### 1.1 æ ¸å¿ƒç›®æ ‡

è‡ªåŠ¨åŒ–ä»£ç å®¡æ ¸æµç¨‹,ç³»ç»ŸåŒ–æ£€æŸ¥ä»£ç è´¨é‡ã€å®‰å…¨æ€§ã€æ€§èƒ½å’Œè§„èŒƒæ€§,ç¡®ä¿ä»£ç ç¬¦åˆç”Ÿäº§æ ‡å‡†ã€‚

### 1.2 è§£å†³çš„é—®é¢˜

**å½“å‰ç—›ç‚¹**:
- ä»£ç å®¡æ ¸éœ€è¦äººå·¥é€è¡Œæ£€æŸ¥,è€—æ—¶ä¸”å®¹æ˜“é—æ¼
- æ²¡æœ‰ç³»ç»ŸåŒ–çš„å®¡æ ¸æ ‡å‡†
- å®‰å…¨æ€§é—®é¢˜éš¾ä»¥å‘ç°
- æ€§èƒ½é—®é¢˜åœ¨åæœŸæ‰æš´éœ²
- ä»£ç é£æ ¼ä¸ä¸€è‡´

**è§£å†³åçš„æ•ˆæœ**:
- ç³»ç»ŸåŒ–5ç»´ä»£ç å®¡æ ¸
- è‡ªåŠ¨å‘ç°å¸¸è§å®‰å…¨å’Œæ€§èƒ½é—®é¢˜
- ä¸€è‡´çš„ä»£ç é£æ ¼æ£€æŸ¥
- è¯¦ç»†çš„æ”¹è¿›å»ºè®®
- å¯é›†æˆåˆ°Git Hook

### 1.3 ä½¿ç”¨åœºæ™¯

```yaml
è§¦å‘æ¡ä»¶:
  - ä»£ç å¼€å‘å®Œæˆ
  - å‡†å¤‡æäº¤ä»£ç 
  - Pull Requeståˆ›å»º
  - ç”¨æˆ·è¯´"å®¡æ ¸è¿™æ®µä»£ç "

å…¸å‹åœºæ™¯:
  å¼€å‘é˜¶æ®µ:
    - åŠŸèƒ½ä»£ç å®Œæˆ
    â†’ code-review-agent å®¡æ ¸ä»£ç 
    â†’ å‘ç°å®‰å…¨å’Œæ€§èƒ½é—®é¢˜
    â†’ ä¿®å¤åé‡æ–°å®¡æ ¸

  Gité›†æˆ:
    - pre-commit hook
    â†’ code-review-agent å¿«é€Ÿæ£€æŸ¥
    â†’ é˜»æ­¢æœ‰ä¸¥é‡é—®é¢˜çš„æäº¤
    â†’ ç¡®ä¿ä»£ç è´¨é‡

  PRå®¡æ ¸:
    - åˆ›å»ºPull Request
    â†’ code-review-agent æ·±åº¦å®¡æ ¸
    â†’ ç”Ÿæˆå®¡æ ¸æŠ¥å‘Š
    â†’ Reviewerå‚è€ƒæŠ¥å‘Šå®¡æ ¸
```

---

## 2. Agenté…ç½®

### 2.1 Frontmatteré…ç½®

```yaml
---
name: code-review-agent
description: Use this agent when reviewing code for quality, security, performance, and maintainability. Examples:

<example>
Context: User has just finished implementing a feature and wants to ensure code quality before committing.
user: "Review my code changes"
assistant: "I'll launch the code-review-agent to systematically check security issues, performance bottlenecks, code style consistency, and maintainability concerns."
<commentary>
Triggered when code is ready for review before committing or creating PR.
</example>
</example>

<example>
Context: User wants to ensure the codebase follows best practices and has no obvious issues.
user: "Perform a comprehensive code review"
assistant: "Launching code-review-agent to analyze code quality across multiple dimensions including security vulnerabilities, performance optimization opportunities, and adherence to coding standards."
<commentary>
Triggered for comprehensive code quality assessment.
</example>
</example>

model: inherit
color: purple
tools: ["Read", "Grep", "Glob"]
---
```

### 2.2 è§’è‰²å®šä¹‰

```markdown
You are the Code Review Agent, specializing in systematic code quality assessment across multiple dimensions.

**Your Core Responsibilities:**
1. Scan code files for security vulnerabilities
2. Identify performance bottlenecks
3. Check code correctness and logic
4. Verify adherence to coding standards
5. Assess maintainability and readability
6. Provide specific improvement suggestions
7. Generate structured review report

**Review Philosophy:**
- **Constructive**: Focus on improvement, not criticism
- **Specific**: Provide exact line numbers and code examples
- **Prioritized**: Distinguish between must-fix and nice-to-have
- **Educational**: Explain why something is a problem
```

---

## 3. å®¡æ ¸ç»´åº¦è¯¦è§£

### ç»´åº¦1: ğŸ”’ å®‰å…¨æ€§æ£€æŸ¥

**æ£€æŸ¥é¡¹**:

```yaml
æ³¨å…¥æ¼æ´:
  - SQLæ³¨å…¥: æœªå‚æ•°åŒ–çš„æŸ¥è¯¢
  - XSS: æœªè½¬ä¹‰çš„ç”¨æˆ·è¾“å…¥
  - å‘½ä»¤æ³¨å…¥: ç›´æ¥æ‰§è¡Œçš„å‘½ä»¤
  - è·¯å¾„éå†: æœªéªŒè¯çš„æ–‡ä»¶è·¯å¾„

è®¤è¯æˆæƒ:
  - ç¡¬ç¼–ç å¯†é’¥/å¯†ç 
  - å¼±å¯†ç ç­–ç•¥
  - ç¼ºå°‘æƒé™æ£€æŸ¥
  - Sessionç®¡ç†ä¸å½“

æ•°æ®ä¿æŠ¤:
  - æ•æ„Ÿæ•°æ®æ—¥å¿—
  - ä¸å®‰å…¨çš„æ•°æ®ä¼ è¾“
  - ç¼ºå°‘åŠ å¯†
  - æ•°æ®æ³„éœ²é£é™©

ä¾èµ–å®‰å…¨:
  - å·²çŸ¥æ¼æ´çš„ä¾èµ–
  - è¿‡æ—¶çš„ä¾èµ–ç‰ˆæœ¬
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
### ğŸ”’ å®‰å…¨æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** (1ä¸ª):
- Line 45: SQLæ³¨å…¥é£é™©
  ```javascript
  const query = `SELECT * FROM users WHERE id = ${userId}`;
  ```
  â†’ é—®é¢˜: ç›´æ¥æ‹¼æ¥ç”¨æˆ·è¾“å…¥åˆ°SQLæŸ¥è¯¢
  â†’ é£é™©: æ”»å‡»è€…å¯æ‰§è¡Œä»»æ„SQL
  â†’ ä¿®å¤:
  ```javascript
  const query = 'SELECT * FROM users WHERE id = ?';
  db.query(query, [userId]);
  ```

ğŸŸ¡ **ä¸­ç­‰** (2ä¸ª):
- Line 78: ç¡¬ç¼–ç APIå¯†é’¥
- Line 120: ç¼ºå°‘æƒé™æ£€æŸ¥

ğŸŸ¢ **è½»å¾®** (1ä¸ª):
- Line 203: æ•æ„Ÿä¿¡æ¯è®°å½•åˆ°æ—¥å¿—
```

### ç»´åº¦2: âš¡ æ€§èƒ½æ£€æŸ¥

**æ£€æŸ¥é¡¹**:

```yaml
ç®—æ³•å¤æ‚åº¦:
  - O(nÂ²)åŠä»¥ä¸ŠåµŒå¥—å¾ªç¯
  - å¯ä¼˜åŒ–çš„é‡å¤è®¡ç®—
  - ä½æ•ˆçš„æ•°æ®ç»“æ„ä½¿ç”¨

èµ„æºç®¡ç†:
  - å†…å­˜æ³„æ¼é£é™©
  - æœªå…³é—­çš„è¿æ¥/æ–‡ä»¶
  - è¿‡åº¦çš„å†…å­˜å ç”¨

æ•°æ®åº“æŸ¥è¯¢:
  - N+1æŸ¥è¯¢é—®é¢˜
  - ç¼ºå°‘ç´¢å¼•çš„å­—æ®µ
  - å¤§é‡æ•°æ®çš„æ— åˆ†é¡µæŸ¥è¯¢
  - é‡å¤çš„æ•°æ®åº“è°ƒç”¨

ç¼“å­˜ç­–ç•¥:
  - ç¼ºå°‘ç¼“å­˜çš„çƒ­ç‚¹æ•°æ®
  - ç¼“å­˜å¤±æ•ˆç­–ç•¥ä¸å½“
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
### âš¡ æ€§èƒ½é—®é¢˜

ğŸ”´ **ä¸¥é‡** (1ä¸ª):
- Line 85-95: O(nÂ²)åµŒå¥—å¾ªç¯
  ```python
  for user in users:
    for order in orders:
      if user.id == order.user_id:
        # å¤„ç†è®¢å•
  ```
  â†’ é—®é¢˜: åµŒå¥—å¾ªç¯å¯¼è‡´O(n*m)å¤æ‚åº¦
  â†’ å½±å“: 1000ç”¨æˆ·Ã—1000è®¢å• = 100ä¸‡æ¬¡è¿­ä»£
  â†’ ä¿®å¤: ä½¿ç”¨å­—å…¸æˆ–æ•°æ®åº“JOINä¼˜åŒ–

ğŸŸ¡ **ä¸­ç­‰** (3ä¸ª):
- Line 45: N+1æŸ¥è¯¢é—®é¢˜
- Line 120: ç¼ºå°‘ç¼“å­˜
- Line 188: é‡å¤çš„æ•°æ®åº“è°ƒç”¨

ğŸŸ¢ **è½»å¾®** (2ä¸ª):
- Line 67: å¯æå‰ç»ˆæ­¢çš„å¾ªç¯
- Line 234: å­—ç¬¦ä¸²æ‹¼æ¥å¯ç”¨joinä¼˜åŒ–
```

### ç»´åº¦3: âœ… æ­£ç¡®æ€§æ£€æŸ¥

**æ£€æŸ¥é¡¹**:

```yaml
é€»è¾‘é”™è¯¯:
  - ç©ºæŒ‡é’ˆ/æœªå®šä¹‰å¼•ç”¨
  - é™¤é›¶é£é™©
  - æ­»ä»£ç 
  - ä¸å¯è¾¾ä»£ç 

é”™è¯¯å¤„ç†:
  - æœªæ•è·çš„å¼‚å¸¸
  - åæ‰å¼‚å¸¸(ç©ºcatch)
  - é”™è¯¯ä¿¡æ¯ä¸¢å¤±
  - ä¸å®Œæ•´çš„é”™è¯¯å¤„ç†

è¾¹ç•Œæ¡ä»¶:
  - æœªéªŒè¯çš„è¾“å…¥
  - æ•°ç»„è¶Šç•Œé£é™©
  - ç©ºå€¼å¤„ç†ç¼ºå¤±
  - æç«¯æƒ…å†µæœªè€ƒè™‘

å¹¶å‘é—®é¢˜:
  - ç«æ€æ¡ä»¶
  - æ­»é”é£é™©
  - å…±äº«èµ„æºæœªåŠ é”
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
### âœ… æ­£ç¡®æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** (2ä¸ª):
- Line 56: ç©ºæŒ‡é’ˆé£é™©
  ```javascript
  const userName = user.profile.name;
  ```
  â†’ é—®é¢˜: user.profileå¯èƒ½ä¸ºnull/undefined
  â†’ ä¿®å¤: user.profile?.name || 'Unknown'

- Line 89: æœªæ•è·çš„å¼‚å¸¸
  ```python
  data = json.loads(user_input)
  process(data)
  ```
  â†’ é—®é¢˜: JSONè§£æå¤±è´¥ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ
  â†’ ä¿®å¤: æ·»åŠ try-exceptå¤„ç†

ğŸŸ¡ **ä¸­ç­‰** (1ä¸ª):
- Line 145: è¾¹ç•Œæ¡ä»¶æœªå¤„ç†

ğŸŸ¢ **è½»å¾®** (2ä¸ª):
- Line 203: ä¸å¯è¾¾ä»£ç 
- Line 278: æœªä½¿ç”¨çš„å˜é‡
```

### ç»´åº¦4: ğŸ“ è§„èŒƒæ€§æ£€æŸ¥

**æ£€æŸ¥é¡¹**:

```yaml
å‘½åè§„èŒƒ:
  - å˜é‡å‘½åä¸ç¬¦åˆè§„èŒƒ
  - å‡½æ•°å‘½åä¸æ¸…æ™°
  - ç¼©å†™ä¸ä¸€è‡´

ä»£ç é£æ ¼:
  - ç¼©è¿›ä¸ä¸€è‡´
  - è¡Œé•¿åº¦è¶…è¿‡é™åˆ¶
  - ç¼ºå°‘ç©ºè¡Œåˆ†éš”
  - æ³¨é‡Šé£æ ¼ä¸ç»Ÿä¸€

é¡¹ç›®çº¦å®š:
  - è¿åé¡¹ç›®çº¦å®š
  - ä¸ç¬¦åˆå›¢é˜Ÿé£æ ¼
  - æœªéµå¾ªè®¾è®¡æ¨¡å¼

æ–‡æ¡£å®Œæ•´æ€§:
  - ç¼ºå°‘å‡½æ•°æ–‡æ¡£
  - å¤æ‚é€»è¾‘æ— æ³¨é‡Š
  - APIæ–‡æ¡£ç¼ºå¤±
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
### ğŸ“ è§„èŒƒæ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** (0ä¸ª)

ğŸŸ¡ **ä¸­ç­‰** (5ä¸ª):
- Line 23: å˜é‡å‘½åä¸è§„èŒƒ `temp1` â†’ `userTempData`
- Line 45: å‡½æ•°åä¸æ¸…æ™° `process()` â†’ `processPayment()`
- Line 67-90: ç¼ºå°‘å‡½æ•°æ–‡æ¡£æ³¨é‡Š
- Line 89: ç¼©è¿›ä¸ä¸€è‡´(åº”è¯¥æ˜¯4ç©ºæ ¼)
- Line 120: è¡Œé•¿åº¦è¶…è¿‡120å­—ç¬¦

ğŸŸ¢ **è½»å¾®** (8ä¸ª):
- Line 34: æ³¨é‡Šé£æ ¼ä¸ç»Ÿä¸€
- Line 78: ç¼ºå°‘ç©ºè¡Œåˆ†éš”
- Line 145: å¤æ‚é€»è¾‘æ— æ³¨é‡Š
- Line 167, 189, 203, 220: å˜é‡å‘½åå¯æ”¹è¿›
```

### ç»´åº¦5: ğŸ”§ å¯ç»´æŠ¤æ€§æ£€æŸ¥

**æ£€æŸ¥é¡¹**:

```yaml
ä»£ç å¤æ‚åº¦:
  - åœˆå¤æ‚åº¦è¿‡é«˜(>10)
  - åµŒå¥—å±‚çº§è¿‡æ·±(>4)
  - å‡½æ•°è¿‡é•¿(>50è¡Œ)

ä»£ç é‡å¤:
  - é‡å¤çš„ä»£ç å—
  - ç›¸ä¼¼çš„é€»è¾‘
  - å¯æå–çš„å…¬å…±å‡½æ•°

è®¾è®¡æ¨¡å¼:
  - è¿åSOLIDåŸåˆ™
  - ç´§è€¦åˆçš„ä»£ç 
  - ç¼ºå°‘æŠ½è±¡

å¯æµ‹è¯•æ€§:
  - éš¾ä»¥æµ‹è¯•çš„ä»£ç 
  - ç¼ºå°‘å•å…ƒæµ‹è¯•
  - Mock/Stubå›°éš¾
```

**è¾“å‡ºç¤ºä¾‹**:
```markdown
### ğŸ”§ å¯ç»´æŠ¤æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** (1ä¸ª):
- Line 78-156: å‡½æ•°è¿‡é•¿(79è¡Œ)
  â†’ é—®é¢˜: å‡½æ•°`processOrder()`æœ‰79è¡Œ,é€»è¾‘å¤æ‚
  â†’ å½±å“: éš¾ä»¥ç†è§£å’Œç»´æŠ¤
  â†’ ä¿®å¤: æ‹†åˆ†ä¸ºå¤šä¸ªå°å‡½æ•°

ğŸŸ¡ **ä¸­ç­‰** (3ä¸ª):
- Line 45-60: é‡å¤ä»£ç (å‡ºç°3æ¬¡)
- Line 120-145: åœˆå¤æ‚åº¦15(æ¨è<10)
- Line 188: ç´§è€¦åˆ,ä¾èµ–å…·ä½“å®ç°

ğŸŸ¢ **è½»å¾®** (2ä¸ª):
- Line 67: ç¼ºå°‘å•å…ƒæµ‹è¯•
- Line 234: å¯æå–ä¸ºå…¬å…±å‡½æ•°
```

---

## 4. è¾“å‡ºæ ¼å¼

### 4.1 å®Œæ•´å®¡æ ¸æŠ¥å‘Šç»“æ„

```markdown
# ğŸ” ä»£ç å®¡æ ¸æŠ¥å‘Š

**å®¡æ ¸æ—¶é—´**: YYYY-MM-DD HH:MM
**å®¡æ ¸èŒƒå›´**: {file_count}ä¸ªæ–‡ä»¶
**ä»£ç è¡Œæ•°**: {loc}è¡Œ
**å®¡æ ¸äºº**: code-review-agent

---

## ğŸ“Š æ€»ä½“è¯„ä¼°

**ä»£ç è´¨é‡è¯„åˆ†**: â­â­â­â­ (4/5æ˜Ÿ)

**é—®é¢˜ç»Ÿè®¡**:
- ğŸ”´ ä¸¥é‡: {X}ä¸ª
- ğŸŸ¡ ä¸­ç­‰: {Y}ä¸ª
- ğŸŸ¢ è½»å¾®: {Z}ä¸ª
- âœ… é€šè¿‡: {W}é¡¹æ£€æŸ¥

**ä¼˜ç‚¹**:
1. {strength_1}
2. {strength_2}

**éœ€è¦æ”¹è¿›**:
1. {improvement_1}
2. {improvement_2}

---

## ğŸ”’ å®‰å…¨æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** ({count}ä¸ª):
{critical_security_issues}

ğŸŸ¡ **ä¸­ç­‰** ({count}ä¸ª):
{medium_security_issues}

ğŸŸ¢ **è½»å¾®** ({count}ä¸ª):
{minor_security_issues}

---

## âš¡ æ€§èƒ½é—®é¢˜

ğŸ”´ **ä¸¥é‡** ({count}ä¸ª):
{critical_performance_issues}

ğŸŸ¡ **ä¸­ç­‰** ({count}ä¸ª):
{medium_performance_issues}

ğŸŸ¢ **è½»å¾®** ({count}ä¸ª):
{minor_performance_issues}

---

## âœ… æ­£ç¡®æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** ({count}ä¸ª):
{critical_correctness_issues}

ğŸŸ¡ **ä¸­ç­‰** ({count}ä¸ª):
{medium_correctness_issues}

ğŸŸ¢ **è½»å¾®** ({count}ä¸ª):
{minor_correctness_issues}

---

## ğŸ“ è§„èŒƒæ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** ({count}ä¸ª):
{critical_style_issues}

ğŸŸ¡ **ä¸­ç­‰** ({count}ä¸ª):
{medium_style_issues}

ğŸŸ¢ **è½»å¾®** ({count}ä¸ª):
{minor_style_issues}

---

## ğŸ”§ å¯ç»´æŠ¤æ€§é—®é¢˜

ğŸ”´ **ä¸¥é‡** ({count}ä¸ª):
{critical_maintainability_issues}

ğŸŸ¡ **ä¸­ç­‰** ({count}ä¸ª):
{medium_maintainability_issues}

ğŸŸ¢ **è½»å¾®** ({count}ä¸ª):
{minor_maintainability_issues}

---

## ğŸ“ ä¿®æ”¹å»ºè®®ä¼˜å…ˆçº§

### ğŸ”´ å¿…é¡»ä¿®å¤ (é˜»å¡æäº¤)

1. **{issue_title}**
   - ä½ç½®: {file}:{line}
   - é—®é¢˜: {description}
   - ä¿®å¤: {fix_suggestion}
   - é¢„è®¡æ—¶é—´: {X}åˆ†é’Ÿ

**æ€»è®¡**: {count}ä¸ª,é¢„è®¡{time}

### ğŸŸ¡ å¼ºçƒˆå»ºè®® (æå‡è´¨é‡)

1. **{issue_title}**
   - ä½ç½®: {file}:{line}
   - é—®é¢˜: {description}
   - å»ºè®®: {suggestion}
   - é¢„è®¡æ—¶é—´: {X}åˆ†é’Ÿ

**æ€»è®¡**: {count}ä¸ª,é¢„è®¡{time}

### ğŸŸ¢ å¯é€‰ä¼˜åŒ– (é”¦ä¸Šæ·»èŠ±)

1. **{issue_title}**
   - ä½ç½®: {file}:{line}
   - å»ºè®®: {suggestion}
   - é¢„è®¡æ—¶é—´: {X}åˆ†é’Ÿ

**æ€»è®¡**: {count}ä¸ª,é¢„è®¡{time}

---

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### å®‰å…¨æ€§
- {security_tip}

### æ€§èƒ½
- {performance_tip}

### ä»£ç é£æ ¼
- {style_tip}

---

## ğŸ¯ ç»“è®º

**å®¡æ ¸ç»“æœ**: {é€šè¿‡ / éœ€è¦ä¿®å¤åæäº¤}

**ç†ç”±**: {reasoning}

**ä¸‹ä¸€æ­¥**:
1. ä¿®å¤æ‰€æœ‰ğŸ”´ä¸¥é‡é—®é¢˜
2. è€ƒè™‘ä¿®å¤ğŸŸ¡ä¸­ç­‰é—®é¢˜
3. å¯é€‰ä¿®å¤ğŸŸ¢è½»å¾®é—®é¢˜
4. ä¿®å¤åé‡æ–°å®¡æ ¸

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: YYYY-MM-DD HH:MM
**Agentç‰ˆæœ¬**: v1.0
```

---

## 5. å®¡æ ¸æ¨¡å¼

### 5.1 å¿«é€Ÿå®¡æ ¸æ¨¡å¼ (Quick Review)

**è§¦å‘**: Git pre-commit hook

**æ£€æŸ¥é‡ç‚¹**:
- å¿…ä¿®çš„å®‰å…¨é—®é¢˜
- æ˜æ˜¾çš„bug
- ä¸¥é‡çš„æ€§èƒ½é—®é¢˜

**è¾“å‡º**: ç®€è¦æŠ¥å‘Š,ä»…æ˜¾ç¤ºğŸ”´ä¸¥é‡é—®é¢˜

**è€—æ—¶**: <30ç§’

### 5.2 æ ‡å‡†å®¡æ ¸æ¨¡å¼ (Standard Review)

**è§¦å‘**: ç”¨æˆ·ä¸»åŠ¨è°ƒç”¨,PRåˆ›å»º

**æ£€æŸ¥é‡ç‚¹**:
- 5ä¸ªç»´åº¦çš„æ‰€æœ‰é—®é¢˜
- è¯¦ç»†çš„é—®é¢˜åˆ†æ
- å…·ä½“çš„ä¿®å¤å»ºè®®

**è¾“å‡º**: å®Œæ•´å®¡æ ¸æŠ¥å‘Š

**è€—æ—¶**: 2-5åˆ†é’Ÿ

### 5.3 æ·±åº¦å®¡æ ¸æ¨¡å¼ (Deep Review)

**è§¦å‘**: é‡è¦åŠŸèƒ½,å‘å¸ƒå‰

**æ£€æŸ¥é‡ç‚¹**:
- æ ‡å‡†å®¡æ ¸çš„æ‰€æœ‰å†…å®¹
- ä»£ç å¤æ‚åº¦åˆ†æ
- ä¾èµ–å®‰å…¨æ£€æŸ¥
- è®¾è®¡æ¨¡å¼å®¡æŸ¥
- æµ‹è¯•è¦†ç›–ç‡åˆ†æ

**è¾“å‡º**: å®Œæ•´æŠ¥å‘Š+æ·±åº¦åˆ†æ

**è€—æ—¶**: 10-15åˆ†é’Ÿ

---

## 6. è¾¹ç¼˜æƒ…å†µå¤„ç†

### 6.1 æ²¡æœ‰ä»£ç æ–‡ä»¶

```markdown
âŒ **é”™è¯¯: æ‰¾ä¸åˆ°ä»£ç æ–‡ä»¶**

è¯·ç¡®è®¤:
1. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. æ˜¯å¦æœ‰ä»£ç æ–‡ä»¶(.js, .py, .javaç­‰)
3. æ˜¯å¦åœ¨æ­£ç¡®çš„ç›®å½•

**å»ºè®®**:
- æ£€æŸ¥å½“å‰ç›®å½•: `ls` æˆ– `dir`
- æŸ¥æ‰¾ä»£ç æ–‡ä»¶: `glob("**/*.js")`
```

### 6.2 ä»£ç æ–‡ä»¶è¿‡å°‘

```markdown
âš ï¸ **è­¦å‘Š: ä»£ç æ–‡ä»¶è¾ƒå°‘**

å‘ç°{count}ä¸ªæ–‡ä»¶,{lines}è¡Œä»£ç 

è¿™å¯èƒ½æ˜¯:
- æ–°åŠŸèƒ½å¼€å§‹
- éƒ¨åˆ†ä»£ç 

**å»ºè®®**:
- ç¡®è®¤è¿™æ˜¯å¦æ˜¯å®Œæ•´çš„ä»£ç 
- è€ƒè™‘ç¨åæ‰¹é‡å®¡æ ¸
```

### 6.3 æœªå‘ç°é—®é¢˜

```markdown
âœ… **æ­å–œ! æœªå‘ç°æ˜æ˜¾é—®é¢˜**

**å®¡æ ¸ç»“æœ**: é€šè¿‡ â­â­â­â­â­

**ä»£ç è´¨é‡**: ä¼˜ç§€

**ä¼˜ç‚¹**:
1. {strength_1}
2. {strength_2}

**å»ºè®®**:
- å¯ä»¥æäº¤ä»£ç 
- ç»§ç»­ä¿æŒä»£ç è´¨é‡
- è€ƒè™‘æ·»åŠ æ›´å¤šæµ‹è¯•
```

### 6.4 å‘ç°å¤§é‡é—®é¢˜

```markdown
âš ï¸ **è­¦å‘Š: å‘ç°è¾ƒå¤šé—®é¢˜**

å‘ç°{total_issues}ä¸ªé—®é¢˜,å…¶ä¸­{critical}ä¸ªä¸¥é‡é—®é¢˜

**å»ºè®®**:
- ä¼˜å…ˆä¿®å¤ä¸¥é‡é—®é¢˜
- åˆ†æ‰¹æ¬¡ä¿®å¤å…¶ä»–é—®é¢˜
- è€ƒè™‘é‡æ„éƒ¨åˆ†ä»£ç 
- ä¿®å¤åé‡æ–°å®¡æ ¸

**æ˜¯å¦ç«‹å³å¼€å§‹ä¿®å¤?**
```

---

## 7. é›†æˆæ–¹å¼

### 7.1 Git Hooké›†æˆ

**pre-commit hook**:
```bash
#!/bin/bash
# å¿«é€Ÿå®¡æ ¸,é˜»æ­¢æœ‰ä¸¥é‡é—®é¢˜çš„æäº¤

echo "ğŸ” Running code review..."

# è°ƒç”¨code-review-agentå¿«é€Ÿæ¨¡å¼
code-review-agent --mode=quick

# å¦‚æœæœ‰ä¸¥é‡é—®é¢˜,é˜»æ­¢æäº¤
if [ $? -ne 0 ]; then
  echo "âŒ Commit blocked: Please fix critical issues first"
  exit 1
fi

echo "âœ… Code review passed"
```

**pre-push hook**:
```bash
#!/bin/bash
# æ ‡å‡†å®¡æ ¸,ç¡®ä¿ä»£ç è´¨é‡

echo "ğŸ” Running comprehensive code review..."

# è°ƒç”¨code-review-agentæ ‡å‡†æ¨¡å¼
code-review-agent --mode=standard

echo "âœ… Ready to push"
```

### 7.2 CI/CDé›†æˆ

```yaml
# GitHub Actionsç¤ºä¾‹
name: Code Review

on: [pull_request]

jobs:
  review:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run code review
        run: |
          npx code-review-agent --mode=standard --output=review-report.md
      - name: Comment PR
        uses: actions/github-script@v6
        with:
          script: |
            const report = fs.readFileSync('review-report.md', 'utf8')
            github.rest.issues.createComment({
              issue_number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: report
            })
```

---

## 8. å®æ–½è®¡åˆ’

### 8.1 å¼€å‘æ­¥éª¤

```yaml
æ­¥éª¤1: åˆ›å»ºAgentæ–‡ä»¶ (5åˆ†é’Ÿ)

æ­¥éª¤2: å®ç°å®¡æ ¸é€»è¾‘ (1.5å°æ—¶)
  - å®ç°å®‰å…¨æ€§æ£€æŸ¥ (25åˆ†é’Ÿ)
  - å®ç°æ€§èƒ½æ£€æŸ¥ (25åˆ†é’Ÿ)
  - å®ç°æ­£ç¡®æ€§æ£€æŸ¥ (20åˆ†é’Ÿ)
  - å®ç°è§„èŒƒæ€§æ£€æŸ¥ (15åˆ†é’Ÿ)
  - å®ç°å¯ç»´æŠ¤æ€§æ£€æŸ¥ (15åˆ†é’Ÿ)

æ­¥éª¤3: å®ç°æŠ¥å‘Šç”Ÿæˆ (30åˆ†é’Ÿ)
  - ç”Ÿæˆé—®é¢˜åˆ†ç±»
  - è®¡ç®—è´¨é‡è¯„åˆ†
  - ç”Ÿæˆä¼˜å…ˆçº§åˆ—è¡¨
  - æä¾›ä¿®å¤å»ºè®®

æ­¥éª¤4: å®ç°å®¡æ ¸æ¨¡å¼ (20åˆ†é’Ÿ)
  - å¿«é€Ÿå®¡æ ¸æ¨¡å¼
  - æ ‡å‡†å®¡æ ¸æ¨¡å¼
  - æ·±åº¦å®¡æ ¸æ¨¡å¼

æ­¥éª¤5: æµ‹è¯•éªŒè¯ (30åˆ†é’Ÿ)
  - æµ‹è¯•æœ‰é—®é¢˜çš„ä»£ç 
  - æµ‹è¯•ä¼˜è´¨ä»£ç 
  - æµ‹è¯•è¾¹ç¼˜æƒ…å†µ
  - ä¼˜åŒ–æ£€æŸ¥è§„åˆ™

æ­¥éª¤6: é›†æˆå’Œæ–‡æ¡£ (10åˆ†é’Ÿ)
```

### 8.2 æµ‹è¯•ç”¨ä¾‹

```yaml
æµ‹è¯•ç”¨ä¾‹1: å®‰å…¨é—®é¢˜æ£€æµ‹
  - SQLæ³¨å…¥ä»£ç 
  - ç¡¬ç¼–ç å¯†é’¥
  - XSSæ¼æ´
  - é¢„æœŸ: å‡†ç¡®è¯†åˆ«æ‰€æœ‰å®‰å…¨é—®é¢˜

æµ‹è¯•ç”¨ä¾‹2: æ€§èƒ½é—®é¢˜æ£€æµ‹
  - O(nÂ²)åµŒå¥—å¾ªç¯
  - N+1æŸ¥è¯¢
  - ç¼ºå°‘ç¼“å­˜
  - é¢„æœŸ: å‡†ç¡®è¯†åˆ«æ€§èƒ½ç“¶é¢ˆ

æµ‹è¯•ç”¨ä¾‹3: ä»£ç é£æ ¼æ£€æŸ¥
  - å‘½åä¸è§„èŒƒ
  - ç¼ºå°‘æ³¨é‡Š
  - ä»£ç é‡å¤
  - é¢„æœŸ: å‡†ç¡®è¯†åˆ«é£æ ¼é—®é¢˜

æµ‹è¯•ç”¨ä¾‹4: ä¼˜è´¨ä»£ç 
  - æ— æ˜æ˜¾é—®é¢˜
  - é¢„æœŸ: é€šè¿‡å®¡æ ¸,ç»™å‡ºå¥½è¯„
```

---

## 9. æ”¯æŒçš„è¯­è¨€

### åˆæœŸæ”¯æŒ (v1.0)

- JavaScript/TypeScript
- Python
- Java

### åç»­æ”¯æŒ (v1.1+)

- Go
- C/C++
- Ruby
- PHP

---

## 10. è´¨é‡æ ‡å‡†

### 10.1 åŠŸèƒ½å®Œæ•´æ€§

```yaml
âœ… å¿…é¡»å®ç°:
  - 5ä¸ªç»´åº¦çš„å®¡æ ¸
  - ä¸¥é‡é—®é¢˜100%å‡†ç¡®è¯†åˆ«
  - å…·ä½“çš„ä¿®å¤å»ºè®®
  - æ¸…æ™°çš„ä¼˜å…ˆçº§

ğŸ¯ ä¼˜åŒ–ç›®æ ‡:
  - è¯¯æŠ¥ç‡ <5%
  - æ¼æŠ¥ç‡ <2%
  - å®¡æ ¸é€Ÿåº¦ <5åˆ†é’Ÿ(1000è¡Œ)
```

### 10.2 æ€§èƒ½æ ‡å‡†

```yaml
å“åº”é€Ÿåº¦:
  - å¿«é€Ÿæ¨¡å¼: <30ç§’
  - æ ‡å‡†æ¨¡å¼: <5åˆ†é’Ÿ(1000è¡Œ)
  - æ·±åº¦æ¨¡å¼: <15åˆ†é’Ÿ(1000è¡Œ)

å‡†ç¡®æ€§:
  - å®‰å…¨é—®é¢˜è¯†åˆ«ç‡ >95%
  - æ€§èƒ½é—®é¢˜è¯†åˆ«ç‡ >90%
  - è§„èŒƒé—®é¢˜è¯†åˆ«ç‡ >85%
```

---

## 11. åç»­ä¼˜åŒ–æ–¹å‘

### 11.1 çŸ­æœŸä¼˜åŒ–

```yaml
æ›´å¤šè¯­è¨€æ”¯æŒ:
  - Go
  - C/C++
  - Ruby

AIè¾…åŠ©:
  - å­¦ä¹ é¡¹ç›®ä»£ç é£æ ¼
  - ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„å»ºè®®
  - è‡ªåŠ¨ä¿®å¤ç®€å•é—®é¢˜
```

### 11.2 ä¸­æœŸä¼˜åŒ–

```yaml
é›†æˆæµ‹è¯•:
  - è¿è¡Œæµ‹è¯•å¥—ä»¶
  - æµ‹è¯•è¦†ç›–ç‡åˆ†æ
  - æµ‹è¯•å¤±è´¥åˆ†æ

å†å²åˆ†æ:
  - ä»£ç è´¨é‡è¶‹åŠ¿
  - é—®é¢˜é‡å¤ç‡
  - å¼€å‘è€…æ”¹è¿›å»ºè®®
```

### 11.3 é•¿æœŸä¼˜åŒ–

```yaml
æ™ºèƒ½å­¦ä¹ :
  - ä»å†å²å®¡æ ¸ä¸­å­¦ä¹ 
  - å›¢é˜Ÿä»£ç é£æ ¼é€‚åº”
  - ä¸ªæ€§åŒ–å»ºè®®

è‡ªåŠ¨åŒ–ä¿®å¤:
  - è‡ªåŠ¨ä¿®å¤ç®€å•é—®é¢˜
  - é‡æ„å»ºè®®ä»£ç 
  - ä¸€é”®åº”ç”¨ä¿®å¤
```

---

## 12. ä¸å…¶ä»–Agentçš„å…³ç³»

### 12.1 åä½œå…³ç³»

```yaml
å¼€å‘é˜¶æ®µå®Œæ•´æµç¨‹:
  1. è®¾è®¡å®Œæˆ â†’ design-audit-agentå®¡æ ¸è®¾è®¡
  2. ä»£ç å¼€å‘ â†’ code-generation-agentç”Ÿæˆä»£ç 
  3. ä»£ç å®¡æ ¸ â†’ code-review-agent â† æœ¬Agent
  4. å®ŒæˆéªŒè¯ â†’ completion-check-agentéªŒè¯
  5. æäº¤ä»£ç  â†’ Git Hookå¿«é€Ÿå®¡æ ¸
```

### 12.2 è°ƒç”¨æ—¶æœº

```bash
ä»£ç å¼€å‘å®Œæˆ:
  "å®¡æ ¸è¿™æ®µä»£ç "
  â†’ code-review-agent

å‡†å¤‡æäº¤:
  Gitè‡ªåŠ¨è§¦å‘pre-commit hook
  â†’ code-review-agentå¿«é€Ÿæ¨¡å¼

åˆ›å»ºPR:
  "å®¡æ ¸è¿™ä¸ªPR"
  â†’ code-review-agentæ ‡å‡†æ¨¡å¼

å‘å¸ƒå‰:
  "å…¨é¢å®¡æ ¸ä»£ç "
  â†’ code-review-agentæ·±åº¦æ¨¡å¼
```

---

## 13. æ€»ç»“

### 13.1 æ ¸å¿ƒä»·å€¼

è¿™ä¸ªAgentå°†:
- âœ… ç³»ç»ŸåŒ–5ç»´ä»£ç å®¡æ ¸
- âœ… è‡ªåŠ¨å‘ç°90%+çš„å¸¸è§é—®é¢˜
- âœ… æä¾›å…·ä½“çš„ä¿®å¤å»ºè®®
- âœ… é›†æˆåˆ°Gitå·¥ä½œæµ
- âœ… ç¡®ä¿ä»£ç è´¨é‡æ ‡å‡†

### 13.2 ä¸å·¥ä½œæµçš„å¥‘åˆ

**å¼€å‘æµç¨‹**:
```
ä»£ç å®Œæˆ â†’ code-review-agent â†’ ä¿®å¤é—®é¢˜ â†’ æµ‹è¯• â†’ æäº¤
```

**è´¨é‡ä¿è¯**:
```
pre-commit hook â†’ å¿«é€Ÿå®¡æ ¸ â†’ é˜»æ­¢æœ‰é—®é¢˜çš„æäº¤
PR review â†’ æ ‡å‡†å®¡æ ¸ â†’ è¾…åŠ©äººå·¥å®¡æ ¸
å‘å¸ƒå‰ â†’ æ·±åº¦å®¡æ ¸ â†’ ç¡®ä¿ç”Ÿäº§è´¨é‡
```

### 13.3 ç«‹å³å¯ç”¨

- æŠ€æœ¯æˆç†Ÿ,åŸºäºç°æœ‰é™æ€åˆ†æ
- å¯ç«‹å³æŠ•å…¥ä½¿ç”¨
- æ”¯æŒä¸»æµç¼–ç¨‹è¯­è¨€
- æ˜“äºé›†æˆåˆ°CI/CD

---

**è®¾è®¡å®Œæˆæ—¶é—´**: 2025-01-10
**è®¾è®¡äºº**: è€é»‘(Claude)
**çŠ¶æ€**: âœ… è®¾è®¡å®Œæˆ,ç­‰å¾…å®æ–½
**ä¸‹ä¸€æ­¥**: å®æ–½åç«‹å³æµ‹è¯•

---

## ğŸš€ å‡†å¤‡å®æ–½

è®¾è®¡æ–¹æ¡ˆå·²å®Œæˆ!

**æ ¸å¿ƒç‰¹ç‚¹**:
1. 5ç»´ä»£ç å®¡æ ¸ç³»ç»Ÿ(å®‰å…¨ã€æ€§èƒ½ã€æ­£ç¡®æ€§ã€è§„èŒƒã€å¯ç»´æŠ¤æ€§)
2. ä¸‰ç§å®¡æ ¸æ¨¡å¼(å¿«é€Ÿã€æ ‡å‡†ã€æ·±åº¦)
3. å…·ä½“çš„ä¿®å¤å»ºè®®
4. Git Hooké›†æˆ

**é¢„è®¡å·¥ä½œé‡**: 2-2.5å°æ—¶

**å‡†å¤‡å¼€å§‹å®æ–½!** ğŸ¯
