---
description: 检查项目进度,列出已完成/进行中/待开始的任务和问题
argument-hint: [--detailed | --questions-only]
allowed-tools: Read, Grep, Bash
---

# 进度检查器

快速查看项目整体进度，包括已完成任务、进行中任务、待确认问题等。

## 核心功能

1. **任务进度总览**
   - 已完成的任务列表
   - 进行中的任务列表
   - 待开始的任务列表

2. **问题讨论进度**
   - 已确认问题数量
   - 待确认问题列表
   - 各模块完成度

3. **文档状态检查**
   - 设计文档完成度
   - 文档同步状态
   - 版本一致性

4. **下一步行动建议**
   - 优先级排序的待办事项
   - 建议的下一步行动

## 使用方法

```bash
/check-progress              # 快速查看进度
/check-progress --detailed   # 详细进度报告
/check-progress --questions-only  # 仅查看问题进度
```

## 执行流程

### 步骤1: 扫描开发日志和CHANGELOG

```bash
查找文件:
- development/logs/dev-log-*.md
- docs/product/CHANGELOG.md
- development/自动化工具开发清单_2025-01-06.md

提取信息:
- 最近完成的任务
- 当前版本号
- 开发里程碑
```

### 步骤2: 扫描问题清单

```bash
查找文件:
- development/issues/*questions.md

对每个问题清单:
- 统计已确认问题(标记✅的)
- 统计待确认问题
- 计算完成百分比
```

### 步骤3: 扫描设计文档

```bash
查找文件:
- docs/design/*.md

检查状态:
- 文档版本号
- 最后更新日期
- 完成度估算
```

### 步骤4: 生成进度报告

```markdown
📊 **项目进度报告**

━━━━━━━━━━━━━━━━

📅 **报告时间**: 2025-01-06 20:00
📌 **当前阶段**: 设计阶段 v0.3
📈 **当前版本**: v1.3

━━━━━━━━━━━━━━━━

✅ **已完成任务** (近期):

开发工具:
- ✅ 创建自动化工具开发清单
- ✅ 开发/discuss命令
- ✅ 开发/sync-docs命令
- ✅ 开发/token-check命令
- ✅ 部署所有Command到.claude/commands/

文档建设:
- ✅ 创建开发工作区文件夹结构
- ✅ 更新CHANGELOG到v1.3
- ✅ 创建完成报告

━━━━━━━━━━━━━━━━

🔄 **进行中任务**:

自动化工具开发:
- 🔄 开发/check-progress命令 (当前任务)
  进度: 80%
  下一步: 完成、测试、部署

- 🔄 开发PostToolUse Hook
  进度: 0%
  下一步: 编写Hook配置

━━━━━━━━━━━━━━━━

⏳ **待开始任务** (优先级排序):

🔴 高优先级:
- ⏳ 开发SessionStart Hook (30分钟)
- ⏳ 测试所有P1工具 (1小时)
- ⏳ 更新workflow-skill文档 (30分钟)

🟡 中优先级:
- ⏳ 开发/check-completion命令 (1小时)
- ⏳ 开发/review-docs命令 (1小时)
- ⏳ 开发文档同步Agent (2小时)

━━━━━━━━━━━━━━━━

📋 **问题讨论进度**:

评分系统设计:
- ✅ 第一轮(核心逻辑): 8/8 已完成 (100%)
- ⏳ 第二轮(细节机制): 0/7 待确认 (0%)
- ⏳ 第三轮(风控边界): 0/6 待确认 (0%)
- ⏳ 第四轮(后续优化): 0/3 待确认 (0%)

总计: 8/24 已确认 (33%)

━━━━━━━━━━━━━━━━

📝 **文档状态**:

✅ 已完善:
- claude.md (v1.3)
- CHANGELOG.md (v1.3)
- 评分系统设计方案_v1.0.md

⏳ 需要更新:
- workflow-skill/SKILL.md (待集成新工具)
- 开发工具使用指南 (待创建)

━━━━━━━━━━━━━━━━

🎯 **下一步建议**:

1. 🔴 立即执行: 完成/check-progress命令开发
2. 🔴 今天完成: 开发PostToolUse和SessionStart Hook
3. 🟡 本周完成: 测试所有P1工具并优化

预计完成时间: 2小时

━━━━━━━━━━━━━━━━

💡 **提示**:
- 使用 /token-check 查看token使用情况
- 使用 /discuss 继续问题讨论
- 使用 /sync-docs 同步文档更新
```

## 快速模式输出

当使用 `/check-progress` (不带参数)时，输出简化版:

```markdown
📊 快速进度检查

━━━━━━━━━━━━━━━━

✅ 已完成: 4个Command开发
🔄 进行中: 2个工具开发
⏳ 待开始: 7个工具开发

问题进度: 8/24 已确认 (33%)

当前任务: 开发/check-progress命令 (80%)

下一步: 完成当前命令 → 开发Hook

━━━━━━━━━━━━━━━━

💡 使用 --detailed 查看详细报告
```

## 仅问题模式输出

当使用 `/check-progress --questions-only` 时:

```markdown
📋 问题讨论进度

━━━━━━━━━━━━━━━━

🎯 评分系统设计 (development/issues/scoring-system-questions.md)

✅ 第一轮 - 核心逻辑 (8/8):
  ✅ Q1.1-Q1.8 全部确认

⏳ 第二轮 - 细节机制 (0/7):
  ⏳ Q2.1 排名榜单独立性
  ⏳ Q2.2 榜单数量和覆盖面
  ⏳ Q2.3 排名计算算法
  ⏳ Q2.4-Q2.7 (待讨论)

🟡 第三轮 - 风控边界 (0/6):
  🟡 Q3.1-Q3.6 (待讨论)

🟢 第四轮 - 后续优化 (0/3):
  🟢 Q4.1-Q4.3 (待讨论)

━━━━━━━━━━━━━━━━

完成度: 第一轮 100% | 第二轮 0% | 第三轮 0% | 第四轮 0%

🎯 建议下一步: 开始第二轮问题讨论

━━━━━━━━━━━━━━━━

💡 使用 /discuss 立即开始讨论
```

## 错误处理

### 情况1: 找不到问题清单

```markdown
⚠️ 未找到问题清单文件

检查目录: development/issues/

结果: 没有找到 *questions.md 文件

可能原因:
1. 还没有创建问题清单
2. 问题清单在其他位置

建议:
- 使用问题分析Agent创建问题清单
- 或手动指定问题清单路径
```

### 情况2: 找不到开发日志

```markdown
ℹ️ 未找到开发日志

检查目录: development/logs/

结果: 没有找到 dev-log-*.md 文件

提示:
- 这是正常的,可能还没有创建开发日志
- 建议在完成每个任务后创建日志条目
- /sync-docs 命令会自动创建日志
```

## 数据源优先级

```
1. CHANGELOG.md (最高优先级)
   → 准确记录所有已完成的变更

2. 开发日志 dev-log-*.md
   → 详细的任务执行记录

3. 问题清单 *questions.md
   → 问题讨论的实时进度

4. 开发清单文件
   → 规划的任务和预计完成情况
```

## 开发信息

- **创建时间**: 2025-01-06
- **开发者**: 老黑(Claude)
- **版本**: 1.0
- **状态**: 开发中
- **预计完成**: 2025-01-06
- **部署位置**: `.claude/commands/check-progress.md`

## 使用建议

1. **每日检查**: 每天开始工作前检查一次
2. **完成任务后**: 完成重要任务后检查并更新
3. **规划参考**: 使用进度报告规划下一步行动
4. **团队协作**: 分享进度报告给蜡烛先生

---
