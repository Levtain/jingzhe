# 评分与排名系统设计文档（统计鲁棒性导向）

## 1. 设计目标

本评分系统旨在在游戏创作比赛（Game Jam 等）环境中实现：

1.  **降低刷分与异常行为影响**
2.  **提高对高质量作品的识别能力**
3.  **减少"好作品无人评价导致排名靠后"的冷启动问题**
4.  **鼓励互评与社区互动，但避免互评即绑定高排名**
5.  **提供透明的数学规则与可复现计算过程**

------------------------------------------------------------------------

## 2. 总体结构

系统由四个核心模块组成：

-   评分采集层：用户打分与维度设计
-   异常检测层：识别刷分、极端偏置评分
-   统计归一化层：将分数变为可比较的统计量
-   排名决策层：综合得出最终名次

------------------------------------------------------------------------

## 3. 评分维度设计

推荐基础评分维度：

-   创意 Creativity
-   完整性 Polish
-   可玩性 Fun
-   表现力 Presentation
-   主题契合 Theme Fit

可选维度： - 叙事 Narrative - 技术完成度 Technical Quality

每个维度 1--5 或 1--10 Likert 量表。

------------------------------------------------------------------------

## 4. 异常与刷分识别机制

### 4.1 可疑评分行为

包含但不限于：

-   互评互刷
-   频繁极端分（全部 1 分或全部满分）
-   明显偏离群体均值的评分者
-   少量账号集中攻击/抬升目标

### 4.2 评分者可信度权重（Rater Reliability Weight, RRW）

定义：

-   给出评分的方差过低 → 降权
-   与群体均值系统性偏离 → 降权
-   给自身参赛作品打分 → 不计
-   参与互评数量越多 → **非线性递增**权重

权重计算公式：

令：

-   ( `\sigma`{=tex}\_r\^2 ) = 评分者评分方差
-   ( d_r ) = 与全体平均偏离的均方根差
-   ( n_r ) = 其实际参与评价数量

则：

\[ RRW_r = `\alpha `{=tex}`\cdot `{=tex}`\log`{=tex}(1+n_r)
`\cdot `{=tex}e\^{-`\beta `{=tex}d_r} `\cdot `{=tex}(1 -
`\gamma `{=tex}`\cdot `{=tex}I(`\sigma`{=tex}\_r\^2
`\rightarrow 0`{=tex})) \]

其中：

-   ( `\alpha`{=tex}, `\beta`{=tex}, `\gamma `{=tex}) 为经验参数
-   ( I(`\sigma`{=tex}\_r\^2 `\rightarrow 0`{=tex}) ) 为几乎零方差惩罚项

解释：

-   多评多权重（但随评价数量递减增长）
-   越偏离大众越小权重
-   极端单一评分方式几乎无权

------------------------------------------------------------------------

## 5. 作品得分统计计算

### 5.1 基础加权平均

对某作品 ( i )，维度 ( k )：

\[ S\_{ik} = `\frac{\sum_{r} RRW_r \cdot x_{ikr}}{\sum_{r} RRW_r}`{=tex}
\]

### 5.2 鲁棒均值（抗极端值）

采用**截断均值（Trimmed Mean）**：

-   去除上下各 10% 极端评分
-   在样本数少时只降权不剔除

也可选：

-   Winsorized Mean
-   Huber Loss 回归中心

------------------------------------------------------------------------

## 6. 冷启动与评分数不足修正

### 问题：好作品被冷落

解决方案：**贝叶斯回退 + Wilson Score 区间**

#### 6.1 评分数量平滑（Empirical Bayes）

设：

-   ( `\mu `{=tex}) 为全场均值
-   ( n ) 为作品被评价次数
-   ( S ) 为当前作品平均分
-   ( k ) 为平滑强度参数

则贝叶斯平滑分：

\[ S' = `\frac{n}{n+k}`{=tex} S + `\frac{k}{n+k}`{=tex} `\mu`{=tex} \]

效果：

-   评分少 → 回退到全场均值
-   评分多 → 逐渐接近真实分

#### 6.2 Wilson 区间（排序稳定性）

给出置信下界：

\[ score = `\hat{p}`{=tex} - z
`\cdot `{=tex}`\sqrt{\frac{\hat{p}(1-\hat{p})}{n}}`{=tex} \]

解释：

-   评分少 → 置信区间大 → 排名保护
-   更偏向稳定优秀者而非偶然高分者

------------------------------------------------------------------------

## 7. 排名总分汇总机制

总评分由三部分组成：

\[ Final = w_1 `\cdot `{=tex}S' + w_2 `\cdot `{=tex}Wilson + w_3
`\cdot `{=tex}Community \]

其中：

-   ( S' )：贝叶斯平滑后的维度评分
-   Wilson：统计稳定性指标
-   Community：社区指标（评论质量、提供反馈等）

参数建议：

-   ( w_1 = 0.7 )
-   ( w_2 = 0.25 )
-   ( w_3 = 0.05 )

------------------------------------------------------------------------

## 8. 黑名单与风险控制机制

识别：

-   评分互惠团伙
-   批量注册
-   极端异常评分者

措施：

-   降权而非直接删除
-   全程记录审计日志
-   透明披露算法但不公开参数细节

------------------------------------------------------------------------

## 9. 示例计算（简化）

假设：

-   全局均值 μ = 3.8
-   平滑系数 k = 20
-   一作品获得：

  评分   人数
  ------ ------
  5      10
  4      5
  3      2

平均分：

\[ S = `\frac{10*5 + 5*4 + 2*3}{17}`{=tex} = 4.41 \]

贝叶斯平滑：

\[ S' = `\frac{17}{37}`{=tex} 4.41 + `\frac{20}{37}`{=tex} 3.8 = 4.07 \]

说明：少量评分时略微回退，防止偶然性虚高。

------------------------------------------------------------------------

## 10. 可配置参数建议

-   Trim 比例：5%--15%
-   平滑 k：10--40
-   极端评分判定阈值：±2σ
-   互评影响上限：总分不超过 10%

------------------------------------------------------------------------

## 11. 系统性质总结

本系统具有：

-   抗操纵性
-   对高质量作品友好
-   易理解与透明
-   可调参数适配不同 Jam
-   可实现性高

------------------------------------------------------------------------

## 12. 推荐进一步阅读

-   Wilson score interval for ranking
-   Bayesian rating systems
-   Huber loss robust estimation
-   Contest rating fraud detection literature
