# 技术复审报告（执行视角）

**针对《在线评分与排名系统白皮书 v3.0》及《技术审查报告》的落地性评审**  
版本：v1.0  
作者：系统落地工程师  
日期：2026-01-06

---

## 0. 一句话结论

> **当前白皮书已具备“演示级”完整性，但离“工业级可上线”仍有三大缺口：①统计细节未闭环 ②代码级实现缺失 ③运维预案为零**。  
> 若按原样进入 Sprint，预计 3 周内必回滚。建议先冻结功能范围，用 2 周补齐“最小可上线单元（MVP）”，再灰度放量。

---

## 1. 评审范围与立场

表格

复制

| 维度        | 本次评审关注点                 | 非关注点          |
| --------- | ----------------------- | ------------- |
| 算法正确性     | 仅验证“是否会算错数”             | 不讨论是否最优       |
| 工程可行性     | 能否在 50 QPS、5 w 评分量下稳态运行 | 不讨论 10 w+ 长周期 |
| 运维风险      | 回滚、灰度、监控、告警             | 不讨论成本         |
| 合规 & 用户舆情 | 可解释文本、兜底话术              | 不讨论法务         |

---

## 2. 高风险阻塞项（必须修）

表格

复制

| 编号  | 位置               | 问题描述                                     | 后果           | 建议修复动作                                                                      | 责任人  | 截止日    |
| --- | ---------------- | ---------------------------------------- | ------------ | --------------------------------------------------------------------------- | ---- | ------ |
| H1  | 5.1 节 Huber Mean | 未给出 **收敛阈值 & 最大迭代次数**；线上一旦不收敛会死循环        | 服务 OOM、容器重启  | ① 补 `max_iter=35` + `tol=1e-3` ② 加熔断保护：超 5 ms 直接 fallback 到 Winsorized Mean | 后端开发 | T0+3 天 |
| H2  | 5.3 节动态 k        | 分母 `confidence` 可能为 0 → 除零 panic         | 500 错误       | 加 `eps=1e-6` 兜底；单元测试必须覆盖空评分数组                                               | 后端开发 | T0+2 天 |
| H3  | 4.2 节互评团检测       | 谱聚类 `O(n³)`，在 `n_rater>2000` 时单次计算 > 2 s | 排名更新阻塞       | ① 离线小时级批处理 ② 在线仅加载黑名单缓存 ③ 先放通“初版”去掉实时检测                                     | 算法工程 | T0+5 天 |
| H4  | 全局               | **无灰度/回滚方案**                             | 一旦排名异常无法快速止血 | ① 配置开关：强制使用“简单均值”降级 ② 加 Feature Flag：Huber/Bayesian 可一键关闭                   | SRE  | T0+4 天 |

---

## 3. 中等风险项（建议修）

表格

复制

| 编号  | 位置            | 问题描述                                    | 建议动作                           | 备注      |
| --- | ------------- | --------------------------------------- | ------------------------------ | ------- |
| M1  | 5.4 节 `λ=0.3` | 惩罚系数拍脑袋，无 A/B 数据                        | 先用 0.3 上线，但埋点记录“λ 敏感度”曲线，两周后复盘 | 埋点已含在任务 |
| M2  | 7 节冷启动        | “强制互评”与 GDPR/《个人信息保护法》边缘（强制任务可能被视为过度收集） | 产品文案改为“鼓励性任务”，取消强制             | 产品运营    |
| M3  | 9 节攻击矩阵       | 未覆盖“慢速养号 + 分段刷分”长期博弈                    | 增加“RTS 时间衰减窗”≥30 天，后续版本迭代      | 算法第二梯队  |

---

## 4. 低风险提示（知晓即可）

- **Huber 参数 c=1.345**：小样本（n<7）时效率下降，但线上 90% 作品 n≥10，可接受。

- **Bootstrap 下界**：白皮书未提，技术审查报告建议用；若工期紧可延后。

- **评论情感检测**：中文 Game Jam 场景评论过短，模型精度≈0.68，贡献 RTS 权重<0.05，ROI 低。

---

## 5. 最小可上线单元（MVP）定义

表格

复制

| 模块    | 必须功能                                     | 明确阉割掉的功能      |
| ----- | ---------------------------------------- | ------------- |
| 鲁棒均值  | Winsorized Mean（10% 截断）+ Huber Mean（带熔断） | 不加 Bootstrap  |
| 贝叶斯平滑 | 固定 k=20，先不上动态 k                          | 动态 confidence |
| RTS   | 仅“多样性 + 共识偏离”两指标，离线小时级更新                 | 评论情感、历史投诉     |
| 互评检测  | **完全下线**，仅保留“自评 0 权重”兜底                  | 谱聚类           |
| 排名更新  | 小时级批任务，不提供实时接口                           | 实时流式          |

> **交付物**：
> 
> 1. 代码 PR 通过 Sonar 高危=0
> 
> 2. 压测报告：50 QPS 99th < 500 ms
> 
> 3. 灰度方案 & 降级开关文档
> 
> 4. 监控看板（排名异常、RTS 分布、Huber 迭代次数）

---

## 6. 版本路线图（修订版）

表格

复制

| 阶段   | 目标                       | 时间      | 放行条件                              |
| ---- | ------------------------ | ------- | --------------------------------- |
| MVP  | 止血级上线，抗刷分 & 冷启动基本可用      | T0+2 周  | 压测 + 灰度 5% 无异常 48 h               |
| v3.1 | 加回 Huber Mean、固定 k 平滑    | T0+6 周  | A/B 胜出，Kendall-Tau↑≥0.05，P99 延迟不变 |
| v3.2 | 实时互评检测、动态 k、Bootstrap 下界 | T0+10 周 | 法务 & 合规评审通过，用户投诉率 <0.1%           |

---

## 7. 责任人与排期（粗排）

表格

复制

| 任务           | 负责人       | 人日         | 备注                   |
| ------------ | --------- | ---------- | -------------------- |
| 代码补熔断 & 单元测试 | 张 xx（后端）  | 2          | 需 Code Review        |
| 压测脚本 + 报告    | 李 xx（QA）  | 2          | 用 Gatling， night run |
| 灰度开关 & 配置中心  | 王 xx（SRE） | 1          | Apollo 加 key         |
| 监控看板         | 赵 xx（SRE） | 1          | Grafana + Prometheus |
| 产品文案（合规）     | 刘 xx（产品）  | 0.5        | 用户 FAQ               |
| **总计**       |           | **6.5 人日** | 可在 2 周内完成            |

---

## 8. 结论与签字

> **评审结论**：**“暂缓全量，先上 MVP”**。  
> 按本报告整改后，系统可在 **2 周内灰度上线**，具备基础抗刷与冷启动能力；后续功能严格按 A/B 数据驱动迭代。
